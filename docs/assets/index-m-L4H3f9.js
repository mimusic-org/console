import{aD as rt,f as H,v as t,d as Q,aF as be,h as o,m as q,w as d,b as n,P as pe,M as ee,q as K,aE as Pe,aa as et,a$ as ut,aG as Ue,a0 as yt,l as O,a1 as Ae,bj as tt,r as E,aN as it,aL as Ht,aB as Ve,k as ke,bk as da,o as he,a8 as We,b7 as Ye,bl as ca,bm as Wt,z as dt,bn as pa,aW as Yt,c as L,F as ge,av as Fe,ah as nt,af as ht,ad as fa,ay as Jt,$ as va,aQ as ma,b5 as ga,ap as _t,aR as ya,I as Oe,B as xt,aH as Qt,e as V,t as B,J as Ge,b6 as ba,aP as Pt,C as kt,a,s as G,_ as Ie,bd as bt,x as He,y as ct,aJ as Xt,a9 as ha,be as qe,ai as _a,A as Zt,D as xa,bo as ka,aj as Mt,aI as Rt,E as Ee,bp as Ca,n as je,aT as wa,ak as Dt,bq as qa,br as Ut,a4 as st,bs as Ia,bt as Sa,bu as za,bi as $a,ao as Ba,an as pt,g as Ne,aA as Ea,p as La,u as Aa,i as Fa}from"./index-DKusDIOD.js";import{P as Ta,d as Va,u as Ct,g as Oa,b as Pa,e as Ma,a as Ra,_ as ft}from"./Badge-DBVGyaqP.js";import{V as wt,u as Da,R as Ua,L as Nt}from"./Label-BZeGPxVr.js";import{u as qt}from"./useFormControl-DEynCdnu.js";import{g as Na,M as ja,R as Ka}from"./RovingFocusGroup-Csp7M4BH.js";import{a as ea,_ as It}from"./Input-BD4uDKNG.js";import{r as xe,u as Ga}from"./request-DV-WdtTg.js";import{l as ta,u as Ha,e as Wa,d as Ya,a as Ja}from"./plugins-5xnyCdQq.js";import{a as aa,r as Qa}from"./auth-3iQsT5QB.js";import{_ as Xa}from"./Textarea-BX5rDSUO.js";import{_ as la,a as Za}from"./Pagination-DBYd_yYQ.js";import{_ as St}from"./Empty-T49dYFNg.js";import{_ as el}from"./Select-BPxuuCcO.js";function ot(r,u,l){const e=r.findIndex(c=>rt(c,u)),s=r.findIndex(c=>rt(c,l));if(e===-1||s===-1)return[];const[i,f]=[e,s].sort((c,y)=>c-y);return r.slice(i,f+1)}function sa(r){const u=H(()=>t(r)),l=H(()=>new Intl.Collator("en",{usage:"search",...u.value}));return{startsWith:(f,c)=>c.length===0?!0:(f=f.normalize("NFC"),c=c.normalize("NFC"),l.value.compare(f.slice(0,c.length),c)===0),endsWith:(f,c)=>c.length===0?!0:(f=f.normalize("NFC"),c=c.normalize("NFC"),l.value.compare(f.slice(-c.length),c)===0),contains:(f,c)=>{if(c.length===0)return!0;f=f.normalize("NFC"),c=c.normalize("NFC");let y=0;const S=c.length;for(;y+S<=f.length;y++){const g=f.slice(y,y+S);if(l.value.compare(c,g)===0)return!0}return!1}}}function tl(){return{ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"}}var al=Q({__name:"ComboboxAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(r){const{forwardRef:u}=be();return(l,e)=>(o(),q(t(Ta),{"as-child":"",reference:l.reference},{default:d(()=>[n(t(pe),ee({ref:t(u),"as-child":l.asChild,as:l.as},l.$attrs),{default:d(()=>[K(l.$slots,"default")]),_:3},16,["as-child","as"])]),_:3},8,["reference"]))}}),ll=al;function jt(r){return r==null?void 0:r.querySelector("[data-state=checked]")}function sl(r,u,l){return r===void 0?!1:Array.isArray(r)?r.some(e=>Te(e,u,l)):Te(r,u,l)}function Te(r,u,l){return r===void 0||u===void 0?!1:typeof r=="string"?r===u:typeof l=="function"?l(r,u):typeof l=="string"?(r==null?void 0:r[l])===(u==null?void 0:u[l]):rt(r,u)}const[at,il]=Pe("ListboxRoot");var ol=Q({__name:"ListboxRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1,default:"vertical"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1,default:"toggle"},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(r,{expose:u,emit:l}){const e=r,s=l,{multiple:i,highlightOnHover:f,orientation:c,disabled:y,selectionBehavior:S,dir:g}=et(e),{getItems:_}=ut({isProvider:!0}),{handleTypeaheadSearch:h}=Va(),{primitiveElement:v,currentElement:m}=tt(),z=tl(),D=Ct(g),X=qt(m),Z=E(),J=E(!1),R=E(!0),j=Ue(e,"modelValue",s,{defaultValue:e.defaultValue??(i.value?[]:void 0),passive:e.modelValue===void 0,deep:!0});function U(F){if(J.value=!0,e.multiple){const T=Array.isArray(j.value)?[...j.value]:[],W=T.findIndex(ie=>Te(ie,F,e.by));e.selectionBehavior==="toggle"?(W===-1?T.push(F):T.splice(W,1),j.value=T):(j.value=[F],Z.value=F)}else e.selectionBehavior==="toggle"&&Te(j.value,F,e.by)?j.value=void 0:j.value=F;setTimeout(()=>{J.value=!1},1)}const x=E(null),k=E(null),C=E(!1),$=E(!1),I=it(),Y=it(),te=it();function le(){return _().map(F=>F.ref).filter(F=>F.dataset.disabled!=="")}function M(F,T=!0){if(!F)return;x.value=F,R.value&&x.value.focus(),T&&x.value.scrollIntoView({block:"nearest"});const W=_().find(ie=>ie.ref===F);s("highlight",W)}function ne(F){if(C.value)te.trigger(F);else{const T=_().find(W=>Te(W.value,F,e.by));T&&(x.value=T.ref,M(T.ref))}}function ue(F){x.value&&x.value.isConnected&&(F.preventDefault(),F.stopPropagation(),$.value||x.value.click())}function b(F){if(R.value){if(J.value=!0,C.value)Y.trigger(F);else{const T=F.altKey||F.ctrlKey||F.metaKey;if(T&&F.key==="a"&&i.value){const W=_(),ie=W.map(_e=>_e.value);j.value=[...ie],F.preventDefault(),M(W[W.length-1].ref)}else if(!T){const W=h(F.key,_());W&&M(W)}}setTimeout(()=>{J.value=!1},1)}}function p(){$.value=!0}function N(){Ae(()=>{$.value=!1})}function se(){Ae(()=>{const F=new KeyboardEvent("keydown",{key:"PageUp"});Se(F)})}function ce(F){const T=x.value;T!=null&&T.isConnected&&(k.value=T),x.value=null,s("leave",F)}function P(F){var W,ie;const T=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if((W=F.currentTarget)==null||W.dispatchEvent(T),s("entryFocus",T),!T.defaultPrevented)if(k.value)M(k.value);else{const _e=(ie=le())==null?void 0:ie[0];M(_e)}}function Se(F){const T=Na(F,c.value,D.value);if(!T)return;let W=le();if(x.value){if(T==="last")W.reverse();else if(T==="prev"||T==="next"){T==="prev"&&W.reverse();const ie=W.indexOf(x.value);W=W.slice(ie+1)}oe(F,W[0])}if(W.length){const ie=!x.value&&T==="prev"?W.length-1:0;M(W[ie])}if(C.value)return Y.trigger(F)}function oe(F,T){var ie;if(!(C.value||e.selectionBehavior!=="replace"||!i.value||!Array.isArray(j.value)||(F.altKey||F.ctrlKey||F.metaKey)&&!F.shiftKey)&&F.shiftKey){const _e=_().filter(Me=>Me.ref.dataset.disabled!=="");let Ke=(ie=_e.find(Me=>Me.ref===T))==null?void 0:ie.value;if(F.key===z.END?Ke=_e[_e.length-1].value:F.key===z.HOME&&(Ke=_e[0].value),!Ke||!Z.value)return;const vt=ot(_e.map(Me=>Me.value),Z.value,Ke);j.value=vt}}async function $e(F){if(await Ae(),C.value)I.trigger(F);else{const T=le(),W=T.find(ie=>ie.dataset.state==="checked");W?M(W):T.length&&M(T[0])}}return yt(j,()=>{J.value||Ae(()=>{$e()})},{immediate:!0,deep:!0}),u({highlightedElement:x,highlightItem:ne,highlightFirstItem:se,highlightSelected:$e,getItems:_}),il({modelValue:j,onValueChange:U,multiple:i,orientation:c,dir:D,disabled:y,highlightOnHover:f,highlightedElement:x,isVirtual:C,virtualFocusHook:I,virtualKeydownHook:Y,virtualHighlightHook:te,by:e.by,firstValue:Z,selectionBehavior:S,focusable:R,onLeave:ce,onEnter:P,changeHighlight:M,onKeydownEnter:ue,onKeydownNavigation:Se,onKeydownTypeAhead:b,onCompositionStart:p,onCompositionEnd:N,highlightFirstItem:se}),(F,T)=>(o(),q(t(pe),{ref_key:"primitiveElement",ref:v,as:F.as,"as-child":F.asChild,dir:t(D),"data-disabled":t(y)?"":void 0,onPointerleave:ce,onFocusout:T[0]||(T[0]=async W=>{const ie=W.relatedTarget||W.target;await Ae(),x.value&&t(m)&&!t(m).contains(ie)&&ce(W)})},{default:d(()=>[K(F.$slots,"default",{modelValue:t(j)}),t(X)&&F.name?(o(),q(t(wt),{key:0,name:F.name,value:t(j),disabled:t(y),required:F.required},null,8,["name","value","disabled","required"])):O("v-if",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),rl=ol,nl=Q({__name:"ListboxContent",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(r){const{CollectionSlot:u}=ut(),l=at(),e=Ht(!1,10);return(s,i)=>(o(),q(t(u),null,{default:d(()=>[n(t(pe),{role:"listbox",as:s.as,"as-child":s.asChild,tabindex:t(l).focusable.value?t(l).highlightedElement.value?"-1":"0":"-1","aria-orientation":t(l).orientation.value,"aria-multiselectable":!!t(l).multiple.value,"data-orientation":t(l).orientation.value,onMousedown:i[0]||(i[0]=ke(f=>e.value=!0,["left"])),onFocus:i[1]||(i[1]=f=>{t(e)||t(l).onEnter(f)}),onKeydown:[i[2]||(i[2]=Ve(f=>{t(l).orientation.value==="vertical"&&(f.key==="ArrowLeft"||f.key==="ArrowRight")||t(l).orientation.value==="horizontal"&&(f.key==="ArrowUp"||f.key==="ArrowDown")||(f.preventDefault(),t(l).focusable.value&&t(l).onKeydownNavigation(f))},["down","up","left","right","home","end"])),Ve(t(l).onKeydownEnter,["enter"]),t(l).onKeydownTypeAhead]},{default:d(()=>[K(s.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),ul=nl,dl=Q({__name:"ListboxFilter",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(r,{emit:u}){const l=r,s=Ue(l,"modelValue",u,{defaultValue:"",passive:l.modelValue===void 0}),i=at(),{primitiveElement:f,currentElement:c}=tt(),y=H(()=>l.disabled||i.disabled.value||!1),S=E();return da(()=>{var g;return S.value=(g=i.highlightedElement.value)==null?void 0:g.id}),he(()=>{i.focusable.value=!1,setTimeout(()=>{var g;l.autoFocus&&((g=c.value)==null||g.focus())},1)}),We(()=>{i.focusable.value=!0}),(g,_)=>(o(),q(t(pe),{ref_key:"primitiveElement",ref:f,as:g.as,"as-child":g.asChild,value:t(s),disabled:y.value?"":void 0,"data-disabled":y.value?"":void 0,"aria-disabled":y.value??void 0,"aria-activedescendant":S.value,type:"text",onKeydown:[Ve(ke(t(i).onKeydownNavigation,["prevent"]),["down","up","home","end"]),Ve(t(i).onKeydownEnter,["enter"])],onInput:_[0]||(_[0]=h=>{s.value=h.target.value,t(i).highlightFirstItem()}),onCompositionstart:t(i).onCompositionStart,onCompositionend:t(i).onCompositionEnd},{default:d(()=>[K(g.$slots,"default",{modelValue:t(s)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),cl=dl;const[Pr,pl]=Pe("ListboxGroup");var fl=Q({__name:"ListboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(r){const u=r,l=Ye(void 0,"reka-listbox-group");return pl({id:l}),(e,s)=>(o(),q(t(pe),ee({role:"group"},u,{"aria-labelledby":t(l)}),{default:d(()=>[K(e.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),vl=fl;const ml="listbox.select",[gl,yl]=Pe("ListboxItem");var bl=Q({__name:"ListboxItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["select"],setup(r,{emit:u}){const l=r,e=u,s=Ye(void 0,"reka-listbox-item"),{CollectionItem:i}=ut(),{forwardRef:f,currentElement:c}=be(),y=at(),S=H(()=>c.value===y.highlightedElement.value),g=H(()=>sl(y.modelValue.value,l.value,y.by)),_=H(()=>y.disabled.value||l.disabled);async function h(m){e("select",m),!(m!=null&&m.defaultPrevented)&&!_.value&&m&&(y.onValueChange(l.value),y.changeHighlight(c.value))}function v(m){const z={originalEvent:m,value:l.value};Wt(ml,h,z)}return yl({isSelected:g}),(m,z)=>(o(),q(t(i),{value:m.value},{default:d(()=>[ca([S.value,g.value],()=>n(t(pe),ee({id:t(s)},m.$attrs,{ref:t(f),role:"option",tabindex:t(y).focusable.value?S.value?"0":"-1":-1,"aria-selected":g.value,as:m.as,"as-child":m.asChild,disabled:_.value?"":void 0,"data-disabled":_.value?"":void 0,"data-highlighted":S.value?"":void 0,"data-state":g.value?"checked":"unchecked",onClick:v,onKeydown:Ve(ke(v,["prevent"]),["space"]),onPointermove:z[0]||(z[0]=()=>{t(y).highlightedElement.value!==t(c)&&t(y).highlightOnHover.value&&!t(y).focusable.value&&t(y).changeHighlight(t(c),!1)})}),{default:d(()=>[K(m.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),z,1)]),_:3},8,["value"]))}}),hl=bl,_l=Q({__name:"ListboxItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(r){const u=r;be();const l=gl();return(e,s)=>t(l).isSelected.value?(o(),q(t(pe),ee({key:0,"aria-hidden":"true"},u),{default:d(()=>[K(e.$slots,"default")]),_:3},16)):O("v-if",!0)}}),xl=_l,kl=Q({__name:"ListboxVirtualizer",props:{options:{type:Array,required:!0},overscan:{type:Number,required:!1},estimateSize:{type:[Number,Function],required:!1},textContent:{type:Function,required:!1}},setup(r){const u=r,l=dt(),e=at(),s=pa(),{getItems:i}=ut();e.isVirtual.value=!0;const f=H(()=>{const h=s.value;if(h){const v=window.getComputedStyle(h);return{start:Number.parseFloat(v.paddingBlockStart||v.paddingTop),end:Number.parseFloat(v.paddingBlockEnd||v.paddingBottom)}}else return{start:0,end:0}}),c=Da({get scrollPaddingStart(){return f.value.start},get scrollPaddingEnd(){return f.value.end},get count(){return u.options.length},get horizontal(){return e.orientation.value==="horizontal"},estimateSize(h){return typeof u.estimateSize=="function"?u.estimateSize(h):u.estimateSize??28},getScrollElement(){return s.value},overscan:u.overscan??12}),y=H(()=>c.value.getVirtualItems().map(h=>{const v=l.default({option:u.options[h.index],virtualizer:c.value,virtualItem:h})[0],m=v.type===ge&&Array.isArray(v.children)?v.children[0]:v;return{item:h,is:fa(m,{key:`${h.key}`,"data-index":h.index,"aria-setsize":u.options.length,"aria-posinset":h.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${h.start}px)`,overflowAnchor:"none"}})}}));e.virtualFocusHook.on(h=>{const v=u.options.findIndex(m=>Array.isArray(e.modelValue.value)?Te(m,e.modelValue.value[0],e.by):Te(m,e.modelValue.value,e.by));v!==-1?(h==null||h.preventDefault(),c.value.scrollToIndex(v,{align:"start"}),requestAnimationFrame(()=>{const m=jt(s.value);m&&(e.changeHighlight(m),h&&(m==null||m.focus()))})):e.highlightFirstItem()}),e.virtualHighlightHook.on(h=>{const v=u.options.findIndex(m=>Te(m,h,e.by));c.value.scrollToIndex(v,{align:"start"}),requestAnimationFrame(()=>{const m=jt(s.value);m&&e.changeHighlight(m)})});const S=Ht("",1e3),g=H(()=>{const h=v=>u.textContent?u.textContent(v):v==null?void 0:v.toString().toLowerCase();return u.options.map((v,m)=>({index:m,textContent:h(v)}))});function _(h,v){var X,Z,J,R;if(!((X=e.firstValue)!=null&&X.value)||!e.multiple.value||!Array.isArray(e.modelValue.value))return;const z=(Z=i().filter(j=>j.ref.dataset.disabled!=="").find(j=>j.ref===e.highlightedElement.value))==null?void 0:Z.value;if(!z)return;let D=null;switch(v){case"prev":case"next":{D=ot(u.options,e.firstValue.value,z);break}case"first":{D=ot(u.options,e.firstValue.value,(J=u.options)==null?void 0:J[0]);break}case"last":{D=ot(u.options,e.firstValue.value,(R=u.options)==null?void 0:R[u.options.length-1]);break}}e.modelValue.value=D}return e.virtualKeydownHook.on(h=>{var D;const v=h.altKey||h.ctrlKey||h.metaKey;if(h.key==="Tab"&&!v)return;let z=ja[h.key];if(v&&h.key==="a"&&e.multiple.value?(h.preventDefault(),e.modelValue.value=[...u.options],z="last"):h.shiftKey&&z&&_(h,z),["first","last"].includes(z)){h.preventDefault();const X=z==="first"?0:u.options.length-1;c.value.scrollToIndex(X),requestAnimationFrame(()=>{const Z=i(),J=z==="first"?Z[0]:Z[Z.length-1];J&&e.changeHighlight(J.ref)})}else if(!z&&!v){S.value+=h.key;const X=Number((D=Yt())==null?void 0:D.getAttribute("data-index")),Z=g.value[X].textContent,J=g.value.map(U=>U.textContent??""),R=Oa(J,S.value,Z),j=g.value.find(U=>U.textContent===R);j&&(c.value.scrollToIndex(j.index,{align:"start"}),requestAnimationFrame(()=>{const U=s.value.querySelector(`[data-index="${j.index}"]`);U instanceof HTMLElement&&e.changeHighlight(U)}))}}),(h,v)=>(o(),L("div",{"data-reka-virtualizer":"",style:ht({position:"relative",width:"100%",height:`${t(c).getTotalSize()}px`})},[(o(!0),L(ge,null,Fe(y.value,({is:m,item:z})=>(o(),q(nt(m),{key:z.index}))),128))],4))}}),Cl=kl;const[ze,wl]=Pe("ComboboxRoot");var ql=Q({__name:"ComboboxRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1},resetSearchTermOnBlur:{type:Boolean,required:!1,default:!0},resetSearchTermOnSelect:{type:Boolean,required:!1,default:!0},openOnFocus:{type:Boolean,required:!1,default:!1},openOnClick:{type:Boolean,required:!1,default:!1},ignoreFilter:{type:Boolean,required:!1},resetModelValueOnClear:{type:Boolean,required:!1,default:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},highlightOnHover:{type:Boolean,required:!1,default:!0},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","update:open"],setup(r,{expose:u,emit:l}){var ne,ue,b;const e=r,s=l,{primitiveElement:i,currentElement:f}=tt(),{multiple:c,disabled:y,ignoreFilter:S,resetSearchTermOnSelect:g,openOnFocus:_,openOnClick:h,dir:v,resetModelValueOnClear:m,highlightOnHover:z}=et(e),D=Ct(v),X=Ue(e,"modelValue",s,{defaultValue:e.defaultValue??(c.value?[]:void 0),passive:e.modelValue===void 0,deep:!0}),Z=Ue(e,"open",s,{defaultValue:e.defaultOpen,passive:e.open===void 0});async function J(p){var N,se;Z.value=p,te.value="",p?(await Ae(),(N=i.value)==null||N.highlightSelected(),j.value=!0,(se=x.value)==null||se.focus()):(j.value=!1,setTimeout(()=>{!p&&e.resetSearchTermOnBlur&&R.trigger()},1))}const R=it(),j=E(!1),U=E(!1),x=E(),k=E(),C=H(()=>{var p;return((p=i.value)==null?void 0:p.highlightedElement)??void 0}),$=E(new Map),I=E(new Map),{contains:Y}=sa({sensitivity:"base"}),te=E(""),le=H(p=>{if(!te.value||e.ignoreFilter||U.value)return{count:$.value.size,items:(p==null?void 0:p.items)??new Map,groups:(p==null?void 0:p.groups)??new Set(I.value.keys())};let N=0;const se=new Map,ce=new Set;for(const[P,Se]of $.value){const oe=Y(Se,te.value);se.set(P,oe?1:0),oe&&N++}for(const[P,Se]of I.value)for(const oe of Se)if(se.get(oe)>0){ce.add(P);break}return{count:N,items:se,groups:ce}}),M=va();return he(()=>{var p,N,se;M!=null&&M.exposed&&(M.exposed.highlightItem=(p=i.value)==null?void 0:p.highlightItem,M.exposed.highlightFirstItem=(N=i.value)==null?void 0:N.highlightFirstItem,M.exposed.highlightSelected=(se=i.value)==null?void 0:se.highlightSelected)}),u({filtered:le,highlightedElement:C,highlightItem:(ne=i.value)==null?void 0:ne.highlightItem,highlightFirstItem:(ue=i.value)==null?void 0:ue.highlightFirstItem,highlightSelected:(b=i.value)==null?void 0:b.highlightSelected}),wl({modelValue:X,multiple:c,disabled:y,open:Z,onOpenChange:J,contentId:"",isUserInputted:j,isVirtual:U,inputElement:x,highlightedElement:C,onInputElementChange:p=>x.value=p,triggerElement:k,onTriggerElementChange:p=>k.value=p,parentElement:f,resetSearchTermOnSelect:g,onResetSearchTerm:R.on,allItems:$,allGroups:I,filterSearch:te,filterState:le,ignoreFilter:S,openOnFocus:_,openOnClick:h,resetModelValueOnClear:m}),(p,N)=>(o(),q(t(Pa),null,{default:d(()=>[n(t(rl),ee({ref_key:"primitiveElement",ref:i},p.$attrs,{modelValue:t(X),"onUpdate:modelValue":N[0]||(N[0]=se=>Jt(X)?X.value=se:null),style:{pointerEvents:t(Z)?"auto":void 0},as:p.as,"as-child":p.asChild,dir:t(D),multiple:t(c),name:p.name,required:p.required,disabled:t(y),"highlight-on-hover":t(z),by:e.by,onHighlight:N[1]||(N[1]=se=>s("highlight",se))}),{default:d(()=>[K(p.$slots,"default",{open:t(Z),modelValue:t(X)})]),_:3},16,["modelValue","style","as","as-child","dir","multiple","name","required","disabled","highlight-on-hover","by"])]),_:3}))}}),Il=ql;const[Sl,zl]=Pe("ComboboxContent");var $l=Q({__name:"ComboboxContentImpl",props:{position:{type:String,required:!1,default:"inline"},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(r,{emit:u}){const l=r,e=u,{position:s}=et(l),i=ze(),{forwardRef:f,currentElement:c}=be();ma(l.bodyLock),ga(i.parentElement);const y=H(()=>l.position==="popper"?l:{}),S=_t(y.value),g={boxSizing:"border-box","--reka-combobox-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-combobox-content-available-width":"var(--reka-popper-available-width)","--reka-combobox-content-available-height":"var(--reka-popper-available-height)","--reka-combobox-trigger-width":"var(--reka-popper-anchor-width)","--reka-combobox-trigger-height":"var(--reka-popper-anchor-height)"};zl({position:s});const _=E(!1);return he(()=>{i.inputElement.value&&(_.value=c.value.contains(i.inputElement.value),_.value&&i.inputElement.value.focus())}),We(()=>{var v;const h=Yt();_.value&&(!h||h===document.body)&&((v=i.triggerElement.value)==null||v.focus())}),(h,v)=>(o(),q(t(ul),{"as-child":""},{default:d(()=>[n(t(ya),{"as-child":"","disable-outside-pointer-events":h.disableOutsidePointerEvents,onDismiss:v[0]||(v[0]=m=>t(i).onOpenChange(!1)),onFocusOutside:v[1]||(v[1]=m=>{var z;(z=t(i).parentElement.value)!=null&&z.contains(m.target)&&m.preventDefault(),e("focusOutside",m)}),onInteractOutside:v[2]||(v[2]=m=>e("interactOutside",m)),onEscapeKeyDown:v[3]||(v[3]=m=>e("escapeKeyDown",m)),onPointerDownOutside:v[4]||(v[4]=m=>{var z;(z=t(i).parentElement.value)!=null&&z.contains(m.target)&&m.preventDefault(),e("pointerDownOutside",m)})},{default:d(()=>[(o(),q(nt(t(s)==="popper"?t(Ma):t(pe)),ee({...h.$attrs,...t(S)},{id:t(i).contentId,ref:t(f),"data-state":t(i).open.value?"open":"closed",style:{display:"flex",flexDirection:"column",outline:"none",...t(s)==="popper"?g:{}}}),{default:d(()=>[K(h.$slots,"default")]),_:3},16,["id","data-state","style"]))]),_:3},8,["disable-outside-pointer-events"])]),_:3}))}}),Bl=$l,El=Q({__name:"ComboboxArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(r){const u=r,l=ze(),e=Sl();return be(),(s,i)=>t(l).open.value&&t(e).position.value==="popper"?(o(),q(t(Ra),Oe(ee({key:0},u)),{default:d(()=>[K(s.$slots,"default")]),_:3},16)):O("v-if",!0)}}),Ll=El,Al=Q({__name:"ComboboxCancel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(r){const u=r;be();const l=ze();function e(){var s;l.filterSearch.value="",l.inputElement.value&&(l.inputElement.value.value="",l.inputElement.value.focus()),(s=l.resetModelValueOnClear)!=null&&s.value&&(l.modelValue.value=l.multiple.value?[]:null)}return(s,i)=>(o(),q(t(pe),ee({type:s.as==="button"?"button":void 0},u,{tabindex:"-1",onClick:e}),{default:d(()=>[K(s.$slots,"default")]),_:3},16,["type"]))}}),Fl=Al,Tl=Q({__name:"ComboboxContent",props:{forceMount:{type:Boolean,required:!1},position:{type:String,required:!1},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(r,{emit:u}){const s=xt(r,u),{forwardRef:i}=be(),f=ze();return f.contentId||(f.contentId=Ye(void 0,"reka-combobox-content")),(c,y)=>(o(),q(t(Qt),{present:c.forceMount||t(f).open.value},{default:d(()=>[n(Bl,ee({...t(s),...c.$attrs},{ref:t(i)}),{default:d(()=>[K(c.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),Vl=Tl,Ol=Q({__name:"ComboboxEmpty",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(r){const u=r,l=ze(),e=H(()=>l.ignoreFilter.value?l.allItems.value.size===0:l.filterState.value.count===0);return(s,i)=>e.value?(o(),q(t(pe),Oe(ee({key:0},u)),{default:d(()=>[K(s.$slots,"default",{},()=>[i[0]||(i[0]=V("No options"))])]),_:3},16)):O("v-if",!0)}}),Pl=Ol;const[ia,Ml]=Pe("ComboboxGroup");var Rl=Q({__name:"ComboboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(r){const u=r,l=Ye(void 0,"reka-combobox-group"),e=ze(),s=H(()=>e.ignoreFilter.value?!0:e.filterSearch.value?e.filterState.value.groups.has(l):!0),i=Ml({id:l,labelId:""});return he(()=>{e.allGroups.value.has(l)||e.allGroups.value.set(l,new Set)}),We(()=>{e.allGroups.value.delete(l)}),(f,c)=>(o(),q(t(vl),ee({id:t(l),"aria-labelledby":t(i).labelId},u,{hidden:s.value?void 0:!0}),{default:d(()=>[K(f.$slots,"default")]),_:3},16,["id","aria-labelledby","hidden"]))}}),mt=Rl,Dl=Q({__name:"ComboboxInput",props:{displayValue:{type:Function,required:!1},modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(r,{emit:u}){const l=r,e=u,s=ze(),i=at(),{primitiveElement:f,currentElement:c}=tt(),y=Ue(l,"modelValue",e,{passive:l.modelValue===void 0});he(()=>{c.value&&s.onInputElementChange(c.value)});function S(m){s.open.value||s.onOpenChange(!0)}function g(m){const z=m.target;s.open.value?s.filterSearch.value=z.value:(s.onOpenChange(!0),Ae(()=>{z.value&&(s.filterSearch.value=z.value,i.highlightFirstItem())}))}function _(){s.openOnFocus.value&&!s.open.value&&s.onOpenChange(!0)}function h(){s.openOnClick.value&&!s.open.value&&s.onOpenChange(!0)}function v(){const m=s.modelValue.value;l.displayValue?y.value=l.displayValue(m):!s.multiple.value&&m&&!Array.isArray(m)&&typeof m!="object"?y.value=m.toString():y.value="",Ae(()=>{y.value=y.value})}return s.onResetSearchTerm(()=>{v()}),yt(s.modelValue,async()=>{!s.isUserInputted.value&&s.resetSearchTermOnSelect.value&&v()},{immediate:!0,deep:!0}),yt(s.filterState,(m,z)=>{!s.isVirtual.value&&z.count===0&&i.highlightFirstItem()}),(m,z)=>(o(),q(t(cl),{ref_key:"primitiveElement",ref:f,modelValue:t(y),"onUpdate:modelValue":z[0]||(z[0]=D=>Jt(y)?y.value=D:null),as:m.as,"as-child":m.asChild,"auto-focus":m.autoFocus,disabled:m.disabled,"aria-expanded":t(s).open.value,"aria-controls":t(s).contentId,"aria-autocomplete":"list",role:"combobox",autocomplete:"off",onClick:h,onInput:g,onKeydown:Ve(ke(S,["prevent"]),["down","up"]),onFocus:_},{default:d(()=>[K(m.$slots,"default")]),_:3},8,["modelValue","as","as-child","auto-focus","disabled","aria-expanded","aria-controls","onKeydown"]))}}),Ul=Dl,Nl=Q({__name:"ComboboxItem",props:{textValue:{type:String,required:!1},value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(r,{emit:u}){const l=r,e=u,s=Ye(void 0,"reka-combobox-item"),i=ze(),f=ia(null),{primitiveElement:c,currentElement:y}=tt();if(l.value==="")throw new Error("A <ComboboxItem /> must have a value prop that is not an empty string. This is because the Combobox value can be set to an empty string to clear the selection and show the placeholder.");const S=H(()=>{if(i.isVirtual.value||i.ignoreFilter.value||!i.filterSearch.value)return!0;{const g=i.filterState.value.items.get(s);return g===void 0?!0:g>0}});return he(()=>{var _;i.allItems.value.set(s,l.textValue||y.value.textContent||y.value.innerText);const g=f==null?void 0:f.id;g&&(i.allGroups.value.has(g)?(_=i.allGroups.value.get(g))==null||_.add(s):i.allGroups.value.set(g,new Set([s])))}),We(()=>{i.allItems.value.delete(s)}),(g,_)=>S.value?(o(),q(t(hl),ee({key:0},l,{id:t(s),ref_key:"primitiveElement",ref:c,disabled:t(i).disabled.value||g.disabled,onSelect:_[0]||(_[0]=h=>{e("select",h),!h.defaultPrevented&&!t(i).multiple.value&&!g.disabled&&!t(i).disabled.value&&(h.preventDefault(),t(i).onOpenChange(!1),t(i).modelValue.value=l.value)})}),{default:d(()=>[K(g.$slots,"default",{},()=>[V(B(g.value),1)])]),_:3},16,["id","disabled"])):O("v-if",!0)}}),Kt=Nl,jl=Q({__name:"ComboboxItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(r){const u=r;return(l,e)=>(o(),q(t(xl),Oe(Ge(u)),{default:d(()=>[K(l.$slots,"default")]),_:3},16))}}),Kl=jl,Gl=Q({__name:"ComboboxLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(r){const u=r;be();const l=ia({id:"",labelId:""});return l.labelId||(l.labelId=Ye(void 0,"reka-combobox-group-label")),(e,s)=>(o(),q(t(pe),ee(u,{id:t(l).labelId}),{default:d(()=>[K(e.$slots,"default")]),_:3},16,["id"]))}}),Hl=Gl,Wl=Q({__name:"ComboboxPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(r){const u=r;return(l,e)=>(o(),q(t(ba),Oe(Ge(u)),{default:d(()=>[K(l.$slots,"default")]),_:3},16))}}),Yl=Wl,Jl=Q({__name:"ComboboxSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(r){const u=r;return be(),(l,e)=>(o(),q(t(pe),ee(u,{"aria-hidden":"true"}),{default:d(()=>[K(l.$slots,"default")]),_:3},16))}}),Ql=Jl,Xl=Q({__name:"ComboboxTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(r){const u=r,{forwardRef:l,currentElement:e}=be(),s=ze(),i=H(()=>u.disabled||s.disabled.value||!1);return he(()=>{e.value&&s.onTriggerElementChange(e.value)}),(f,c)=>(o(),q(t(pe),ee(u,{ref:t(l),type:f.as==="button"?"button":void 0,tabindex:"-1","aria-label":"Show popup","aria-haspopup":"listbox","aria-expanded":t(s).open.value,"aria-controls":t(s).contentId,"data-state":t(s).open.value?"open":"closed",disabled:i.value,"data-disabled":i.value?"":void 0,"aria-disabled":i.value??void 0,onClick:c[0]||(c[0]=y=>t(s).onOpenChange(!t(s).open.value))}),{default:d(()=>[K(f.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","disabled","data-disabled","aria-disabled"]))}}),Zl=Xl,es=Q({__name:"ComboboxVirtualizer",props:{options:{type:Array,required:!0},overscan:{type:Number,required:!1},estimateSize:{type:[Number,Function],required:!1},textContent:{type:Function,required:!1}},setup(r){const u=r,l=ze();return l.isVirtual.value=!0,(e,s)=>(o(),q(Cl,Oe(Ge(u)),{default:d(i=>[K(e.$slots,"default",Oe(Ge(i)))]),_:3},16))}}),ts=es;const as="radio.select";function ls(r,u,l){Wt(as,l,{originalEvent:r,value:u})}var ss=Q({__name:"Radio",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},checked:{type:Boolean,required:!1,default:void 0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:checked","select"],setup(r,{emit:u}){const l=r,e=u,s=Ue(l,"checked",e,{passive:l.checked===void 0}),{value:i}=et(l),{forwardRef:f,currentElement:c}=be(),y=qt(c),S=H(()=>{var _;return l.id&&c.value?((_=document.querySelector(`[for="${l.id}"]`))==null?void 0:_.innerText)??l.value:void 0});function g(_){l.disabled||ls(_,l.value,h=>{e("select",h),!(h!=null&&h.defaultPrevented)&&(s.value=!0,y.value&&h.stopPropagation())})}return(_,h)=>(o(),q(t(pe),ee(_.$attrs,{id:_.id,ref:t(f),role:"radio",type:_.as==="button"?"button":void 0,as:_.as,"aria-checked":t(s),"aria-label":S.value,"as-child":_.asChild,disabled:_.disabled?"":void 0,"data-state":t(s)?"checked":"unchecked","data-disabled":_.disabled?"":void 0,value:t(i),required:_.required,name:_.name,onClick:ke(g,["stop"])}),{default:d(()=>[K(_.$slots,"default",{checked:t(s)}),t(y)&&_.name?(o(),q(t(wt),{key:0,type:"radio",tabindex:"-1",value:t(i),checked:!!t(s),name:_.name,disabled:_.disabled,required:_.required},null,8,["value","checked","name","disabled","required"])):O("v-if",!0)]),_:3},16,["id","type","as","aria-checked","aria-label","as-child","disabled","data-state","data-disabled","value","required","name"]))}}),is=ss;const[os,rs]=Pe("RadioGroupRoot");var ns=Q({__name:"RadioGroupRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue"],setup(r,{emit:u}){const l=r,e=u,{forwardRef:s,currentElement:i}=be(),f=Ue(l,"modelValue",e,{defaultValue:l.defaultValue,passive:l.modelValue===void 0}),{disabled:c,loop:y,orientation:S,name:g,required:_,dir:h}=et(l),v=Ct(h),m=qt(i);return rs({modelValue:f,changeModelValue:z=>{f.value=z},disabled:c,loop:y,orientation:S,name:g==null?void 0:g.value,required:_}),(z,D)=>(o(),q(t(Ka),{"as-child":"",orientation:t(S),dir:t(v),loop:t(y)},{default:d(()=>[n(t(pe),{ref:t(s),role:"radiogroup","data-disabled":t(c)?"":void 0,"as-child":z.asChild,as:z.as,"aria-orientation":t(S),"aria-required":t(_),dir:t(v)},{default:d(()=>[K(z.$slots,"default",{modelValue:t(f)}),t(m)&&t(g)?(o(),q(t(wt),{key:0,required:t(_),disabled:t(c),value:t(f),name:t(g)},null,8,["required","disabled","value","name"])):O("v-if",!0)]),_:3},8,["data-disabled","as-child","as","aria-orientation","aria-required","dir"])]),_:3},8,["orientation","dir","loop"]))}}),us=ns;const[ds,cs]=Pe("RadioGroupItem");var ps=Q({inheritAttrs:!1,__name:"RadioGroupItem",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["select"],setup(r,{emit:u}){const l=r,e=u,{forwardRef:s,currentElement:i}=be(),f=os(),c=H(()=>f.disabled.value||l.disabled),y=H(()=>f.required.value||l.required),S=H(()=>{var v;return rt((v=f.modelValue)==null?void 0:v.value,l.value)});cs({disabled:c,checked:S});const g=E(!1),_=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];Pt("keydown",v=>{_.includes(v.key)&&(g.value=!0)}),Pt("keyup",()=>{g.value=!1});function h(){setTimeout(()=>{var v;g.value&&((v=i.value)==null||v.click())},0)}return(v,m)=>(o(),q(t(Ua),{checked:S.value,disabled:c.value,"as-child":"",focusable:!c.value,active:S.value},{default:d(()=>[n(is,ee({...v.$attrs,...l},{ref:t(s),checked:S.value,required:y.value,disabled:c.value,"onUpdate:checked":m[0]||(m[0]=z=>t(f).changeModelValue(v.value)),onSelect:m[1]||(m[1]=z=>e("select",z)),onKeydown:m[2]||(m[2]=Ve(ke(()=>{},["prevent"]),["enter"])),onFocus:h}),{default:d(()=>[K(v.$slots,"default",{checked:S.value,required:y.value,disabled:c.value})]),_:3},16,["checked","required","disabled"])]),_:3},8,["checked","disabled","focusable","active"]))}}),fs=ps,vs=Q({__name:"RadioGroupIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(r){const{forwardRef:u}=be(),l=ds();return(e,s)=>(o(),q(t(Qt),{present:e.forceMount||t(l).checked.value},{default:d(()=>[n(t(pe),ee({ref:t(u),"data-state":t(l).checked.value?"checked":"unchecked","data-disabled":t(l).disabled.value?"":void 0,"as-child":e.asChild,as:e.as},e.$attrs),{default:d(()=>[K(e.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),ms=vs,gs=Q({__name:"BaseSeparator",props:{orientation:{type:String,required:!1,default:"horizontal"},decorative:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(r){const u=r,l=["horizontal","vertical"];function e(c){return l.includes(c)}const s=H(()=>e(u.orientation)?u.orientation:"horizontal"),i=H(()=>s.value==="vertical"?u.orientation:void 0),f=H(()=>u.decorative?{role:"none"}:{"aria-orientation":i.value,role:"separator"});return(c,y)=>(o(),q(t(pe),ee({as:c.as,"as-child":c.asChild,"data-orientation":s.value},f.value),{default:d(()=>[K(c.$slots,"default")]),_:3},16,["as","as-child","data-orientation"]))}}),ys=gs,bs=Q({__name:"Separator",props:{orientation:{type:String,required:!1,default:"horizontal"},decorative:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(r){const u=r;return(l,e)=>(o(),q(ys,Oe(Ge(u)),{default:d(()=>[K(l.$slots,"default")]),_:3},16))}}),hs=bs;const _s={slots:{root:"flex items-center align-center text-center",border:"",container:"font-medium text-default flex",icon:"shrink-0 size-5",avatar:"shrink-0",avatarSize:"2xs",label:"text-sm"},variants:{color:{primary:{border:"border-primary"},secondary:{border:"border-secondary"},success:{border:"border-success"},info:{border:"border-info"},warning:{border:"border-warning"},error:{border:"border-error"},neutral:{border:"border-default"}},orientation:{horizontal:{root:"w-full flex-row",border:"w-full",container:"mx-3 whitespace-nowrap"},vertical:{root:"h-full flex-col",border:"h-full",container:"my-2"}},size:{xs:"",sm:"",md:"",lg:"",xl:""},type:{solid:{border:"border-solid"},dashed:{border:"border-dashed"},dotted:{border:"border-dotted"}}},compoundVariants:[{orientation:"horizontal",size:"xs",class:{border:"border-t"}},{orientation:"horizontal",size:"sm",class:{border:"border-t-[2px]"}},{orientation:"horizontal",size:"md",class:{border:"border-t-[3px]"}},{orientation:"horizontal",size:"lg",class:{border:"border-t-[4px]"}},{orientation:"horizontal",size:"xl",class:{border:"border-t-[5px]"}},{orientation:"vertical",size:"xs",class:{border:"border-s"}},{orientation:"vertical",size:"sm",class:{border:"border-s-[2px]"}},{orientation:"vertical",size:"md",class:{border:"border-s-[3px]"}},{orientation:"vertical",size:"lg",class:{border:"border-s-[4px]"}},{orientation:"vertical",size:"xl",class:{border:"border-s-[5px]"}}],defaultVariants:{color:"neutral",size:"xs",type:"solid"}},xs={__name:"Separator",props:{as:{type:null,required:!1},label:{type:String,required:!1},icon:{type:null,required:!1},avatar:{type:Object,required:!1},color:{type:null,required:!1},size:{type:null,required:!1},type:{type:null,required:!1},orientation:{type:null,required:!1,default:"horizontal"},class:{type:null,required:!1},ui:{type:null,required:!1},decorative:{type:Boolean,required:!1}},setup(r){const u=r,l=dt(),e=ct(),s=_t(kt(u,"as","decorative","orientation")),i=H(()=>{var f;return He({extend:He(_s),...((f=e.ui)==null?void 0:f.separator)||{}})({color:u.color,orientation:u.orientation,size:u.size,type:u.type})});return(f,c)=>{var y;return o(),q(t(hs),ee(t(s),{"data-slot":"root",class:i.value.root({class:[(y=u.ui)==null?void 0:y.root,u.class]})}),{default:d(()=>{var S,g,_;return[a("div",{"data-slot":"border",class:G(i.value.border({class:(S=u.ui)==null?void 0:S.border}))},null,2),r.label||r.icon||r.avatar||l.default?(o(),L(ge,{key:0},[a("div",{"data-slot":"container",class:G(i.value.container({class:(g=u.ui)==null?void 0:g.container}))},[K(f.$slots,"default",{ui:i.value},()=>{var h,v,m,z;return[r.label?(o(),L("span",{key:0,"data-slot":"label",class:G(i.value.label({class:(h=u.ui)==null?void 0:h.label}))},B(r.label),3)):r.icon?(o(),q(Ie,{key:1,name:r.icon,"data-slot":"icon",class:G(i.value.icon({class:(v=u.ui)==null?void 0:v.icon}))},null,8,["name","class"])):r.avatar?(o(),q(bt,ee({key:2,size:((m=u.ui)==null?void 0:m.avatarSize)||i.value.avatarSize()},r.avatar,{"data-slot":"avatar",class:i.value.avatar({class:(z=u.ui)==null?void 0:z.avatar})}),null,16,["size","class"])):O("",!0)]})],2),a("div",{"data-slot":"border",class:G(i.value.border({class:(_=u.ui)==null?void 0:_.border}))},null,2)],64)):O("",!0)]}),_:3},16,["class"])}}},ks={slots:{root:"relative",fieldset:"flex gap-x-2",legend:"mb-1 block font-medium text-default",item:"flex items-start",container:"flex items-center",base:"rounded-full ring ring-inset ring-accented overflow-hidden focus-visible:outline-2 focus-visible:outline-offset-2",indicator:"flex items-center justify-center size-full after:bg-default after:rounded-full",wrapper:"w-full",label:"block font-medium text-default",description:"text-muted"},variants:{color:{primary:{base:"focus-visible:outline-primary",indicator:"bg-primary"},secondary:{base:"focus-visible:outline-secondary",indicator:"bg-secondary"},success:{base:"focus-visible:outline-success",indicator:"bg-success"},info:{base:"focus-visible:outline-info",indicator:"bg-info"},warning:{base:"focus-visible:outline-warning",indicator:"bg-warning"},error:{base:"focus-visible:outline-error",indicator:"bg-error"},neutral:{base:"focus-visible:outline-inverted",indicator:"bg-inverted"}},variant:{list:{item:""},card:{item:"border border-muted rounded-lg"},table:{item:"border border-muted"}},orientation:{horizontal:{fieldset:"flex-row"},vertical:{fieldset:"flex-col"}},indicator:{start:{item:"flex-row",wrapper:"ms-2"},end:{item:"flex-row-reverse",wrapper:"me-2"},hidden:{base:"sr-only",wrapper:"text-center"}},size:{xs:{fieldset:"gap-y-0.5",legend:"text-xs",base:"size-3",item:"text-xs",container:"h-4",indicator:"after:size-1"},sm:{fieldset:"gap-y-0.5",legend:"text-xs",base:"size-3.5",item:"text-xs",container:"h-4",indicator:"after:size-1"},md:{fieldset:"gap-y-1",legend:"text-sm",base:"size-4",item:"text-sm",container:"h-5",indicator:"after:size-1.5"},lg:{fieldset:"gap-y-1",legend:"text-sm",base:"size-4.5",item:"text-sm",container:"h-5",indicator:"after:size-1.5"},xl:{fieldset:"gap-y-1.5",legend:"text-base",base:"size-5",item:"text-base",container:"h-6",indicator:"after:size-2"}},disabled:{true:{item:"opacity-75",base:"cursor-not-allowed",label:"cursor-not-allowed",description:"cursor-not-allowed"}},required:{true:{legend:"after:content-['*'] after:ms-0.5 after:text-error"}}},compoundVariants:[{size:"xs",variant:["card","table"],class:{item:"p-2.5"}},{size:"sm",variant:["card","table"],class:{item:"p-3"}},{size:"md",variant:["card","table"],class:{item:"p-3.5"}},{size:"lg",variant:["card","table"],class:{item:"p-4"}},{size:"xl",variant:["card","table"],class:{item:"p-4.5"}},{orientation:"horizontal",variant:"table",class:{item:"first-of-type:rounded-s-lg last-of-type:rounded-e-lg",fieldset:"gap-0 -space-x-px"}},{orientation:"vertical",variant:"table",class:{item:"first-of-type:rounded-t-lg last-of-type:rounded-b-lg",fieldset:"gap-0 -space-y-px"}},{color:"primary",variant:"card",class:{item:"has-data-[state=checked]:border-primary"}},{color:"secondary",variant:"card",class:{item:"has-data-[state=checked]:border-secondary"}},{color:"success",variant:"card",class:{item:"has-data-[state=checked]:border-success"}},{color:"info",variant:"card",class:{item:"has-data-[state=checked]:border-info"}},{color:"warning",variant:"card",class:{item:"has-data-[state=checked]:border-warning"}},{color:"error",variant:"card",class:{item:"has-data-[state=checked]:border-error"}},{color:"neutral",variant:"card",class:{item:"has-data-[state=checked]:border-inverted"}},{color:"primary",variant:"table",class:{item:"has-data-[state=checked]:bg-primary/10 has-data-[state=checked]:border-primary/50 has-data-[state=checked]:z-[1]"}},{color:"secondary",variant:"table",class:{item:"has-data-[state=checked]:bg-secondary/10 has-data-[state=checked]:border-secondary/50 has-data-[state=checked]:z-[1]"}},{color:"success",variant:"table",class:{item:"has-data-[state=checked]:bg-success/10 has-data-[state=checked]:border-success/50 has-data-[state=checked]:z-[1]"}},{color:"info",variant:"table",class:{item:"has-data-[state=checked]:bg-info/10 has-data-[state=checked]:border-info/50 has-data-[state=checked]:z-[1]"}},{color:"warning",variant:"table",class:{item:"has-data-[state=checked]:bg-warning/10 has-data-[state=checked]:border-warning/50 has-data-[state=checked]:z-[1]"}},{color:"error",variant:"table",class:{item:"has-data-[state=checked]:bg-error/10 has-data-[state=checked]:border-error/50 has-data-[state=checked]:z-[1]"}},{color:"neutral",variant:"table",class:{item:"has-data-[state=checked]:bg-elevated has-data-[state=checked]:border-inverted/50 has-data-[state=checked]:z-[1]"}},{variant:["card","table"],disabled:!0,class:{item:"cursor-not-allowed"}}],defaultVariants:{size:"md",color:"primary",variant:"list",orientation:"vertical",indicator:"start"}},Cs={__name:"RadioGroup",props:{as:{type:null,required:!1},legend:{type:String,required:!1},valueKey:{type:null,required:!1,default:"value"},labelKey:{type:null,required:!1,default:"label"},descriptionKey:{type:null,required:!1,default:"description"},items:{type:null,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},size:{type:null,required:!1},variant:{type:null,required:!1},color:{type:null,required:!1},orientation:{type:null,required:!1,default:"vertical"},indicator:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},disabled:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["change","update:modelValue"],setup(r,{emit:u}){const l=r,e=u,s=dt(),i=ct(),f=xt(kt(l,"as","loop","required"),e),{emitFormChange:c,emitFormInput:y,color:S,name:g,size:_,id:h,disabled:v,ariaAttrs:m}=Xt(l,{bind:!1}),z=h.value??ha(),D=H(()=>{var R;return He({extend:He(ks),...((R=i.ui)==null?void 0:R.radioGroup)||{}})({size:_.value,color:S.value,disabled:v.value,required:l.required,orientation:l.orientation,variant:l.variant,indicator:l.indicator})});function X(R){if(R===null)return{id:`${z}:null`,value:void 0,label:void 0};if(typeof R=="string"||typeof R=="number"||typeof R=="bigint")return{id:`${z}:${R}`,value:String(R),label:String(R)};const j=qe(R,l.valueKey),U=qe(R,l.labelKey),x=qe(R,l.descriptionKey);return{...R,value:j,label:U,description:x,id:`${z}:${j}`}}const Z=H(()=>l.items?l.items.map(X):[]);function J(R){const j=new Event("change",{target:{value:R}});e("change",j),c(),y()}return(R,j)=>{var U;return o(),q(t(us),ee({id:t(z)},t(f),{"model-value":r.modelValue,"default-value":r.defaultValue,orientation:r.orientation,name:t(g),disabled:t(v),"data-slot":"root",class:D.value.root({class:[(U=l.ui)==null?void 0:U.root,l.class]}),"onUpdate:modelValue":J}),{default:d(()=>{var x,k;return[a("fieldset",ee({"data-slot":"fieldset",class:D.value.fieldset({class:(x=l.ui)==null?void 0:x.fieldset})},t(m)),[r.legend||s.legend?(o(),L("legend",{key:0,"data-slot":"legend",class:G(D.value.legend({class:(k=l.ui)==null?void 0:k.legend}))},[K(R.$slots,"legend",{},()=>[V(B(r.legend),1)])],2)):O("",!0),(o(!0),L(ge,null,Fe(Z.value,C=>{var $,I;return o(),q(nt(!r.variant||r.variant==="list"?"div":t(Nt)),{key:C.value,"data-slot":"item",class:G(D.value.item({class:[($=l.ui)==null?void 0:$.item,(I=C.ui)==null?void 0:I.item,C.class],disabled:C.disabled||t(v)}))},{default:d(()=>{var Y,te,le,M,ne,ue,b,p,N,se;return[a("div",{"data-slot":"container",class:G(D.value.container({class:[(Y=l.ui)==null?void 0:Y.container,(te=C.ui)==null?void 0:te.container]}))},[n(t(fs),{id:C.id,value:C.value,disabled:C.disabled||t(v),"data-slot":"base",class:G(D.value.base({class:[(le=l.ui)==null?void 0:le.base,(M=C.ui)==null?void 0:M.base],disabled:C.disabled||t(v)}))},{default:d(()=>{var ce,P;return[n(t(ms),{"data-slot":"indicator",class:G(D.value.indicator({class:[(ce=l.ui)==null?void 0:ce.indicator,(P=C.ui)==null?void 0:P.indicator]}))},null,8,["class"])]}),_:2},1032,["id","value","disabled","class"])],2),C.label||s.label||C.description||s.description?(o(),L("div",{key:0,"data-slot":"wrapper",class:G(D.value.wrapper({class:[(ne=l.ui)==null?void 0:ne.wrapper,(ue=C.ui)==null?void 0:ue.wrapper]}))},[C.label||s.label?(o(),q(nt(!r.variant||r.variant==="list"?t(Nt):"p"),{key:0,for:C.id,"data-slot":"label",class:G(D.value.label({class:[(b=l.ui)==null?void 0:b.label,(p=C.ui)==null?void 0:p.label],disabled:C.disabled||t(v)}))},{default:d(()=>[K(R.$slots,"label",{item:C,modelValue:r.modelValue},()=>[V(B(C.label),1)])]),_:2},1032,["for","class"])):O("",!0),C.description||s.description?(o(),L("p",{key:1,"data-slot":"description",class:G(D.value.description({class:[(N=l.ui)==null?void 0:N.description,(se=C.ui)==null?void 0:se.description],disabled:C.disabled||t(v)}))},[K(R.$slots,"description",{item:C,modelValue:r.modelValue},()=>[V(B(C.description),1)])],2)):O("",!0)],2)):O("",!0)]}),_:2},1032,["class"])}),128))],16)]}),_:3},16,["id","model-value","default-value","orientation","name","disabled","class"])}}};function ws(r,u){if(typeof r!="object"||r===null)return!1;const l=qe(r,u);return l!=null&&l!==""}function Gt(r,u){return u?{xs:44,sm:48,md:52,lg:56,xl:60}[r]:{xs:24,sm:28,md:32,lg:36,xl:40}[r]}function qs(r,u,l,e){const s=Gt(u,!0),i=Gt(u,!1);return e?()=>s:l?f=>ws(r[f],l)?s:i:()=>i}const Is={slots:{base:["relative group rounded-md inline-flex items-center focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-dimmed",value:"truncate pointer-events-none",placeholder:"truncate text-dimmed",arrow:"fill-default",content:["max-h-60 w-(--reka-select-trigger-width) bg-default shadow-lg rounded-md ring ring-default overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-select-content-transform-origin) pointer-events-auto flex flex-col","origin-(--reka-combobox-content-transform-origin) w-(--reka-combobox-trigger-width)"],viewport:"relative scroll-py-1 overflow-y-auto flex-1",group:"p-1 isolate",empty:"text-center text-muted",label:"font-semibold text-highlighted",separator:"-mx-1 my-1 h-px bg-border",item:["group relative w-full flex items-start select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75 text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["shrink-0 text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"],itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemLeadingChip:"shrink-0",itemLeadingChipSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemWrapper:"flex-1 flex flex-col min-w-0",itemLabel:"truncate",itemDescription:"truncate text-muted",input:"border-b border-default",focusScope:"flex flex-col min-h-0",trailingClear:"p-0"},variants:{fieldGroup:{horizontal:"not-only:first:rounded-e-none not-only:last:rounded-s-none not-last:not-first:rounded-none focus-visible:z-[1]",vertical:"not-only:first:rounded-b-none not-only:last:rounded-t-none not-last:not-first:rounded-none focus-visible:z-[1]"},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1 text-[10px]/3 gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",empty:"p-1 text-xs"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1.5 text-[10px]/3 gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",empty:"p-1.5 text-xs"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",empty:"p-1.5 text-sm"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-2 text-xs gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",empty:"p-2 text-sm"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6",label:"p-2 text-sm gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemLeadingChip:"size-6",itemLeadingChipSize:"lg",itemTrailingIcon:"size-6",empty:"p-2 text-base"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"},virtualize:{true:{viewport:"p-1 isolate"},false:{viewport:"divide-y divide-default"}}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},Ss=Object.assign({inheritAttrs:!1},{__name:"SelectMenu",props:Dt({id:{type:String,required:!1},placeholder:{type:String,required:!1},searchInput:{type:[Boolean,Object],required:!1,default:!0},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},trailingIcon:{type:null,required:!1},selectedIcon:{type:null,required:!1},clear:{type:[Boolean,Object],required:!1},clearIcon:{type:null,required:!1},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},virtualize:{type:[Boolean,Object],required:!1,default:!1},valueKey:{type:null,required:!1},labelKey:{type:null,required:!1,default:"label"},descriptionKey:{type:null,required:!1,default:"description"},items:{type:null,required:!1},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1},modelModifiers:{type:Object,required:!1},multiple:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},createItem:{type:[Boolean,String,Object],required:!1},filterFields:{type:Array,required:!1},ignoreFilter:{type:Boolean,required:!1},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},resetSearchTermOnBlur:{type:Boolean,required:!1,default:!0},resetSearchTermOnSelect:{type:Boolean,required:!1,default:!0},resetModelValueOnClear:{type:Boolean,required:!1,default:!0},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},icon:{type:null,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:null,required:!1},trailing:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:Dt(["update:open","change","blur","focus","create","clear","highlight","update:modelValue"],["update:searchTerm"]),setup(r,{expose:u,emit:l}){const e=r,s=l,i=dt(),f=_a(r,"searchTerm",{type:String,default:""}),{t:c}=Zt(),y=ct(),{contains:S}=sa({sensitivity:"base"}),g=xt(kt(e,"modelValue","defaultValue","open","defaultOpen","required","multiple","resetSearchTermOnBlur","resetSearchTermOnSelect","resetModelValueOnClear","highlightOnHover","by"),s),_=xa(Ee(()=>e.portal)),h=Ee(()=>st(e.content,{side:"bottom",sideOffset:8,collisionPadding:8,position:"popper"})),v=Ee(()=>e.arrow),m=H(()=>typeof e.clear=="object"?e.clear:{}),z=Ee(()=>e.virtualize?st(typeof e.virtualize=="boolean"?{}:e.virtualize,{estimateSize:qs(T.value,b.value||"md",e.descriptionKey,!!i["item-description"])}):!1),D=Ee(()=>st(e.searchInput,{placeholder:c("selectMenu.search"),variant:"none"})),{emitFormBlur:X,emitFormFocus:Z,emitFormInput:J,emitFormChange:R,size:j,color:U,id:x,name:k,highlight:C,disabled:$,ariaAttrs:I}=Xt(e),{orientation:Y,size:te}=ka(e),{isLeading:le,isTrailing:M,leadingIconName:ne,trailingIconName:ue}=qa(Ee(()=>st(e,{trailingIcon:y.ui.icons.chevronDown}))),b=H(()=>te.value||j.value),[p,N]=Mt(),[se,ce]=Mt({props:{item:{type:[Object,String,Number,Boolean],required:!0},index:{type:Number,required:!1}}}),P=H(()=>{var A;return He({extend:He(Is),...((A=y.ui)==null?void 0:A.selectMenu)||{}})({color:U.value,variant:e.variant,size:b==null?void 0:b.value,loading:e.loading,highlight:C.value,leading:le.value||!!e.avatar||!!i.leading,trailing:M.value||!!i.trailing,fieldGroup:Y.value,virtualize:!!e.virtualize})});function Se(A){if(e.multiple&&Array.isArray(A)){const ae=A.map(w=>Ut($e.value,w,{labelKey:e.labelKey,valueKey:e.valueKey,by:e.by})).filter(w=>w!=null&&w!=="");return ae.length>0?ae.join(", "):void 0}return Ut($e.value,A,{labelKey:e.labelKey,valueKey:e.valueKey,by:e.by})}const oe=H(()=>{var A;return(A=e.items)!=null&&A.length?$a(e.items)?e.items:[e.items]:[]}),$e=H(()=>oe.value.flatMap(A=>A)),F=H(()=>{if(e.ignoreFilter||!f.value)return oe.value;const A=Array.isArray(e.filterFields)?e.filterFields:[e.labelKey];return oe.value.map(ae=>ae.filter(w=>w==null?!1:typeof w!="object"?S(String(w),f.value):w.type&&["label","separator"].includes(w.type)?!0:A.some(de=>{const ve=qe(w,de);return ve!=null&&S(String(ve),f.value)}))).filter(ae=>ae.filter(w=>!re(w)||!w.type||!["label","separator"].includes(w.type)).length>0)}),T=H(()=>F.value.flatMap(A=>A)),W=H(()=>{if(!e.createItem||!f.value)return!1;const A=e.valueKey?{[e.valueKey]:f.value}:f.value;return typeof e.createItem=="object"&&e.createItem.when==="always"||e.createItem==="always"?!T.value.find(ae=>za(ae,A,e.by??e.valueKey)):!T.value.length}),ie=H(()=>typeof e.createItem=="object"?e.createItem.position:"bottom"),_e=Rt("triggerRef");function Ke(){var A,ae;e.autofocus&&((ae=(A=_e.value)==null?void 0:A.$el)==null||ae.focus({focusVisible:!0}))}he(()=>{setTimeout(()=>{Ke()},e.autofocusDelay)});function vt(A){var w,de,ve,Ce;if(Ia(e.modelValue)===A)return;(w=e.modelModifiers)!=null&&w.trim&&(A=(A==null?void 0:A.trim())??null),(de=e.modelModifiers)!=null&&de.number&&(A=Sa(A)),(ve=e.modelModifiers)!=null&&ve.nullable&&(A??(A=null)),(Ce=e.modelModifiers)!=null&&Ce.optional&&(A??(A=void 0));const ae=new Event("change",{target:{value:A}});s("change",ae),R(),J(),e.resetSearchTermOnSelect&&(f.value="")}function Me(A){let ae;if(A){const w=new FocusEvent("focus");s("focus",w),Z(),clearTimeout(ae)}else{const w=new FocusEvent("blur");s("blur",w),X(),e.resetSearchTermOnBlur&&(ae=setTimeout(()=>{f.value=""},100))}}function oa(A){A.preventDefault(),A.stopPropagation(),s("create",f.value)}function ra(A,ae){var w;if(re(ae)){if(ae.disabled){A.preventDefault();return}(w=ae.onSelect)==null||w.call(ae,A)}}function re(A){return typeof A=="object"&&A!==null}function na(A){return e.multiple&&Array.isArray(A)?A.length===0:A==null||A===""}function ua(){s("clear")}const zt=Rt("viewportRef");return u({triggerRef:Ee(()=>{var A;return(A=_e.value)==null?void 0:A.$el}),viewportRef:Ee(()=>zt.value)}),(A,ae)=>(o(),L(ge,null,[n(t(p),null,{default:d(()=>{var w;return[n(t(Kt),{"data-slot":"item",class:G(P.value.item({class:(w=e.ui)==null?void 0:w.item})),value:f.value,onSelect:oa},{default:d(()=>{var de;return[a("span",{"data-slot":"itemLabel",class:G(P.value.itemLabel({class:(de=e.ui)==null?void 0:de.itemLabel}))},[K(A.$slots,"create-item-label",{item:f.value},()=>[V(B(t(c)("selectMenu.create",{label:f.value})),1)])],2)]}),_:3},8,["class","value"])]}),_:3}),n(t(se),null,{default:d(({item:w,index:de})=>{var ve,Ce,Be,fe,ye,we;return[re(w)&&w.type==="label"?(o(),q(t(Hl),{key:0,"data-slot":"label",class:G(P.value.label({class:[(ve=e.ui)==null?void 0:ve.label,(Ce=w.ui)==null?void 0:Ce.label,w.class]}))},{default:d(()=>[V(B(t(qe)(w,e.labelKey)),1)]),_:2},1032,["class"])):re(w)&&w.type==="separator"?(o(),q(t(Ql),{key:1,"data-slot":"separator",class:G(P.value.separator({class:[(Be=e.ui)==null?void 0:Be.separator,(fe=w.ui)==null?void 0:fe.separator,w.class]}))},null,8,["class"])):(o(),q(t(Kt),{key:2,"data-slot":"item",class:G(P.value.item({class:[(ye=e.ui)==null?void 0:ye.item,re(w)&&((we=w.ui)==null?void 0:we.item),re(w)&&w.class]})),disabled:re(w)&&w.disabled,value:e.valueKey&&re(w)?t(qe)(w,e.valueKey):w,onSelect:Re=>ra(Re,w)},{default:d(()=>[K(A.$slots,"item",{item:w,index:de,ui:P.value},()=>{var Re,me,De,Je,lt,Qe,$t,Bt;return[K(A.$slots,"item-leading",{item:w,index:de,ui:P.value},()=>{var Xe,Ze,Et,Lt,At,Ft,Tt,Vt,Ot;return[re(w)&&w.icon?(o(),q(Ie,{key:0,name:w.icon,"data-slot":"itemLeadingIcon",class:G(P.value.itemLeadingIcon({class:[(Xe=e.ui)==null?void 0:Xe.itemLeadingIcon,(Ze=w.ui)==null?void 0:Ze.itemLeadingIcon]}))},null,8,["name","class"])):re(w)&&w.avatar?(o(),q(bt,ee({key:1,size:((Et=w.ui)==null?void 0:Et.itemLeadingAvatarSize)||((Lt=e.ui)==null?void 0:Lt.itemLeadingAvatarSize)||P.value.itemLeadingAvatarSize()},w.avatar,{"data-slot":"itemLeadingAvatar",class:P.value.itemLeadingAvatar({class:[(At=e.ui)==null?void 0:At.itemLeadingAvatar,(Ft=w.ui)==null?void 0:Ft.itemLeadingAvatar]})}),null,16,["size","class"])):re(w)&&w.chip?(o(),q(Ca,ee({key:2,size:((Tt=e.ui)==null?void 0:Tt.itemLeadingChipSize)||P.value.itemLeadingChipSize(),inset:"",standalone:""},w.chip,{"data-slot":"itemLeadingChip",class:P.value.itemLeadingChip({class:[(Vt=e.ui)==null?void 0:Vt.itemLeadingChip,(Ot=w.ui)==null?void 0:Ot.itemLeadingChip]})}),null,16,["size","class"])):O("",!0)]}),a("span",{"data-slot":"itemWrapper",class:G(P.value.itemWrapper({class:[(Re=e.ui)==null?void 0:Re.itemWrapper,re(w)&&((me=w.ui)==null?void 0:me.itemWrapper)]}))},[a("span",{"data-slot":"itemLabel",class:G(P.value.itemLabel({class:[(De=e.ui)==null?void 0:De.itemLabel,re(w)&&((Je=w.ui)==null?void 0:Je.itemLabel)]}))},[K(A.$slots,"item-label",{item:w,index:de},()=>[V(B(re(w)?t(qe)(w,e.labelKey):w),1)])],2),re(w)&&(t(qe)(w,e.descriptionKey)||i["item-description"])?(o(),L("span",{key:0,"data-slot":"itemDescription",class:G(P.value.itemDescription({class:[(lt=e.ui)==null?void 0:lt.itemDescription,re(w)&&((Qe=w.ui)==null?void 0:Qe.itemDescription)]}))},[K(A.$slots,"item-description",{item:w,index:de},()=>[V(B(t(qe)(w,e.descriptionKey)),1)])],2)):O("",!0)],2),a("span",{"data-slot":"itemTrailing",class:G(P.value.itemTrailing({class:[($t=e.ui)==null?void 0:$t.itemTrailing,re(w)&&((Bt=w.ui)==null?void 0:Bt.itemTrailing)]}))},[K(A.$slots,"item-trailing",{item:w,index:de,ui:P.value}),n(t(Kl),{"as-child":""},{default:d(()=>{var Xe,Ze;return[n(Ie,{name:r.selectedIcon||t(y).ui.icons.check,"data-slot":"itemTrailingIcon",class:G(P.value.itemTrailingIcon({class:[(Xe=e.ui)==null?void 0:Xe.itemTrailingIcon,re(w)&&((Ze=w.ui)==null?void 0:Ze.itemTrailingIcon)]}))},null,8,["name","class"])]}),_:2},1024)],2)]})]),_:2},1032,["class","disabled","value","onSelect"]))]}),_:3}),n(t(Il),ee({id:t(x)},{...t(g),...A.$attrs,...t(I)},{"ignore-filter":"","as-child":"",name:t(k),disabled:t($),"onUpdate:modelValue":vt,"onUpdate:open":Me}),{default:d(({modelValue:w,open:de})=>[n(t(ll),{"as-child":""},{default:d(()=>{var ve;return[n(t(Zl),{ref_key:"triggerRef",ref:_e,"data-slot":"base",class:G(P.value.base({class:[(ve=e.ui)==null?void 0:ve.base,e.class]})),tabindex:"0"},{default:d(()=>{var Ce,Be;return[t(le)||r.avatar||i.leading?(o(),L("span",{key:0,"data-slot":"leading",class:G(P.value.leading({class:(Ce=e.ui)==null?void 0:Ce.leading}))},[K(A.$slots,"leading",{modelValue:w,open:de,ui:P.value},()=>{var fe,ye,we;return[t(le)&&t(ne)?(o(),q(Ie,{key:0,name:t(ne),"data-slot":"leadingIcon",class:G(P.value.leadingIcon({class:(fe=e.ui)==null?void 0:fe.leadingIcon}))},null,8,["name","class"])):r.avatar?(o(),q(bt,ee({key:1,size:((ye=e.ui)==null?void 0:ye.itemLeadingAvatarSize)||P.value.itemLeadingAvatarSize()},r.avatar,{"data-slot":"itemLeadingAvatar",class:P.value.itemLeadingAvatar({class:(we=e.ui)==null?void 0:we.itemLeadingAvatar})}),null,16,["size","class"])):O("",!0)]})],2)):O("",!0),K(A.$slots,"default",{modelValue:w,open:de,ui:P.value},()=>[(o(!0),L(ge,null,Fe([Se(w)],fe=>{var ye,we;return o(),L(ge,{key:fe},[fe!=null?(o(),L("span",{key:0,"data-slot":"value",class:G(P.value.value({class:(ye=e.ui)==null?void 0:ye.value}))},B(fe),3)):(o(),L("span",{key:1,"data-slot":"placeholder",class:G(P.value.placeholder({class:(we=e.ui)==null?void 0:we.placeholder}))},B(r.placeholder??""),3))],64)}),128))]),t(M)||i.trailing||r.clear?(o(),L("span",{key:1,"data-slot":"trailing",class:G(P.value.trailing({class:(Be=e.ui)==null?void 0:Be.trailing}))},[K(A.$slots,"trailing",{modelValue:w,open:de,ui:P.value},()=>{var fe;return[r.clear&&!na(w)?(o(),q(t(Fl),{key:0,"as-child":""},{default:d(()=>{var ye;return[n(je,ee({as:"span",icon:r.clearIcon||t(y).ui.icons.close,variant:"link",color:"neutral",tabindex:"-1"},m.value,{"data-slot":"trailingClear",class:P.value.trailingClear({class:(ye=e.ui)==null?void 0:ye.trailingClear}),onClick:ke(ua,["stop"])}),null,16,["icon","class"])]}),_:1})):t(ue)?(o(),q(Ie,{key:1,name:t(ue),"data-slot":"trailingIcon",class:G(P.value.trailingIcon({class:(fe=e.ui)==null?void 0:fe.trailingIcon}))},null,8,["name","class"])):O("",!0)]})],2)):O("",!0)]}),_:2},1032,["class"])]}),_:2},1024),n(t(Yl),Oe(Ge(t(_))),{default:d(()=>{var ve;return[n(t(Vl),ee({"data-slot":"content",class:P.value.content({class:(ve=e.ui)==null?void 0:ve.content})},h.value),{default:d(()=>{var Ce,Be;return[n(t(wa),{trapped:"","data-slot":"focusScope",class:G(P.value.focusScope({class:(Ce=e.ui)==null?void 0:Ce.focusScope}))},{default:d(()=>{var fe,ye,we,Re;return[K(A.$slots,"content-top"),r.searchInput?(o(),q(t(Ul),{key:0,modelValue:f.value,"onUpdate:modelValue":ae[1]||(ae[1]=me=>f.value=me),"display-value":()=>f.value,"as-child":""},{default:d(()=>{var me;return[n(ea,ee({autofocus:"",autocomplete:"off",size:r.size},D.value,{"data-slot":"input",class:P.value.input({class:(me=e.ui)==null?void 0:me.input}),onChange:ae[0]||(ae[0]=ke(()=>{},["stop"]))}),null,16,["size","class"])]}),_:1},8,["modelValue","display-value"])):O("",!0),n(t(Pl),{"data-slot":"empty",class:G(P.value.empty({class:(fe=e.ui)==null?void 0:fe.empty}))},{default:d(()=>[K(A.$slots,"empty",{searchTerm:f.value},()=>[V(B(f.value?t(c)("selectMenu.noMatch",{searchTerm:f.value}):t(c)("selectMenu.noData")),1)])]),_:3},8,["class"]),a("div",{ref_key:"viewportRef",ref:zt,role:"presentation","data-slot":"viewport",class:G(P.value.viewport({class:(ye=e.ui)==null?void 0:ye.viewport}))},[r.virtualize?(o(),L(ge,{key:0},[W.value&&ie.value==="top"?(o(),q(t(N),{key:0})):O("",!0),n(t(ts),ee({options:T.value,"text-content":me=>re(me)?t(qe)(me,e.labelKey):String(me)},z.value),{default:d(({option:me,virtualItem:De})=>[n(t(ce),{item:me,index:De.index},null,8,["item","index"])]),_:1},16,["options","text-content"]),W.value&&ie.value==="bottom"?(o(),q(t(N),{key:1})):O("",!0)],64)):(o(),L(ge,{key:1},[W.value&&ie.value==="top"?(o(),q(t(mt),{key:0,"data-slot":"group",class:G(P.value.group({class:(we=e.ui)==null?void 0:we.group}))},{default:d(()=>[n(t(N))]),_:1},8,["class"])):O("",!0),(o(!0),L(ge,null,Fe(F.value,(me,De)=>{var Je;return o(),q(t(mt),{key:`group-${De}`,"data-slot":"group",class:G(P.value.group({class:(Je=e.ui)==null?void 0:Je.group}))},{default:d(()=>[(o(!0),L(ge,null,Fe(me,(lt,Qe)=>(o(),q(t(ce),{key:`group-${De}-${Qe}`,item:lt,index:Qe},null,8,["item","index"]))),128))]),_:2},1032,["class"])}),128)),W.value&&ie.value==="bottom"?(o(),q(t(mt),{key:1,"data-slot":"group",class:G(P.value.group({class:(Re=e.ui)==null?void 0:Re.group}))},{default:d(()=>[n(t(N))]),_:1},8,["class"])):O("",!0)],64))],2),K(A.$slots,"content-bottom")]}),_:3},8,["class"]),r.arrow?(o(),q(t(Ll),ee({key:0},v.value,{"data-slot":"arrow",class:P.value.arrow({class:(Be=e.ui)==null?void 0:Be.arrow})}),null,16,["class"])):O("",!0)]}),_:3},16,["class"])]}),_:3},16)]),_:3},16,["id","name","disabled"])],64))}}),zs=Object.assign({inheritAttrs:!1},{__name:"ColorModeSelect",props:{id:{type:String,required:!1},placeholder:{type:String,required:!1},searchInput:{type:[Boolean,Object],required:!1,default:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},trailingIcon:{type:null,required:!1},selectedIcon:{type:null,required:!1},clear:{type:[Boolean,Object],required:!1},clearIcon:{type:null,required:!1},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0},virtualize:{type:[Boolean,Object],required:!1},valueKey:{type:null,required:!1},labelKey:{type:null,required:!1},descriptionKey:{type:null,required:!1},defaultValue:{type:null,required:!1},modelModifiers:{type:Object,required:!1},multiple:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},createItem:{type:[Boolean,String,Object],required:!1},filterFields:{type:Array,required:!1},ignoreFilter:{type:Boolean,required:!1},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},resetSearchTermOnBlur:{type:Boolean,required:!1},resetSearchTermOnSelect:{type:Boolean,required:!1},resetModelValueOnClear:{type:Boolean,required:!1},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:null,required:!1},trailing:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1}},setup(r){const u=r,{t:l}=Zt(),e=Ba(),s=ct(),i=_t(u),f=H(()=>[{label:l("colorMode.system"),value:"system",icon:s.ui.icons.system},{label:l("colorMode.light"),value:"light",icon:s.ui.icons.light},{label:l("colorMode.dark"),value:"dark",icon:s.ui.icons.dark}]),c=H({get(){return f.value.find(y=>y.value===e.preference)||f.value[0]},set(y){e.preference=y.value}});return(y,S)=>{var g;return o(),q(Ss,ee({modelValue:c.value,"onUpdate:modelValue":S[0]||(S[0]=_=>c.value=_),icon:(g=c.value)==null?void 0:g.icon},{...t(i),...y.$attrs},{items:f.value}),null,16,["modelValue","icon","items"])}}});function $s(r){return xe.post("/scan",r)}function Bs(){return xe.get("/scan/progress")}function Es(){return xe.post("/scan/cancel")}function Ls(){return xe.get("/version")}function As(){return xe.get("/health")}function Fs(){return xe.get("/upgrade/versions")}function Ts(){return xe.get("/upgrade/check")}function Vs(r){return xe.post("/upgrade/start",r)}function Os(){return xe.get("/upgrade/progress")}function Ps(r){return xe.get("/configs",{params:r})}function Ms(r){return xe.post("/configs",r)}function Rs(r,u){return xe.put(`/configs/${r}`,u)}function Ds(r){return xe.delete(`/configs/${r}`)}const Us={class:"space-y-4"},Ns={class:"flex gap-2"},js={key:0,class:"flex justify-center py-8"},Ks={key:1,class:"divide-y divide-default rounded-lg border border-default"},Gs={class:"flex items-start justify-between gap-4"},Hs={class:"flex-1 min-w-0"},Ws={class:"text-sm font-medium"},Ys={class:"text-sm text-muted mt-1 break-all line-clamp-2"},Js={class:"text-xs text-muted mt-2"},Qs={class:"flex gap-1 shrink-0"},Xs={key:2,class:"text-center py-8"},Zs={key:3,class:"flex justify-center"},ei={class:"flex justify-end gap-2"},ti={class:"text-sm"},ai={class:"flex justify-end gap-2"},li=Q({__name:"ConfigManager",emits:["close"],setup(r,{emit:u}){const l=E(!1),e=E(!1),s=E(!1),i=E([]),f=E(0),c=E(""),y=Ne({limit:10,offset:0}),S=H({get:()=>Math.floor(y.offset/y.limit)+1,set:k=>{y.offset=(k-1)*y.limit}}),g=E(!1),_=E(!1),h=E(null),v=E(null),m=Ne({key:"",value:""}),z=k=>k?new Date(k).toLocaleString("zh-CN"):"-",D=async()=>{l.value=!0;try{const k={limit:y.limit,offset:y.offset};c.value&&(k.keyword=c.value);const $=(await Ps(k)).data;i.value=$.configs||$.data||[],f.value=$.total||0}catch(k){console.error(":",k)}finally{l.value=!1}},X=()=>{y.offset=0,D()},Z=()=>{D()},J=()=>{h.value=null,m.key="",m.value="",g.value=!0},R=k=>{h.value=k,m.key=k.key,m.value=k.value,g.value=!0},j=async()=>{e.value=!0;try{h.value?await Rs(h.value.key,{value:m.value}):await Ms({key:m.key,value:m.value}),g.value=!1,D()}catch(k){console.error(":",k)}finally{e.value=!1}},U=k=>{v.value=k,_.value=!0},x=async()=>{if(v.value){s.value=!0;try{await Ds(v.value.key),_.value=!1,D()}catch(k){console.error(":",k)}finally{s.value=!1}}};return he(()=>{D()}),(k,C)=>{const $=Ie,I=ea,Y=je,te=St,le=la,M=Za,ne=Xa,ue=pt;return o(),L("div",Us,[a("div",Ns,[n(I,{modelValue:c.value,"onUpdate:modelValue":C[0]||(C[0]=b=>c.value=b),placeholder:"...",class:"flex-1",onKeyup:Ve(X,["enter"])},{leading:d(()=>[n($,{name:"i-lucide-search",class:"w-4 h-4 text-muted"})]),_:1},8,["modelValue"]),n(Y,{size:"sm",onClick:J},{default:d(()=>[n($,{name:"i-lucide-plus",class:"w-4 h-4 mr-1"}),C[8]||(C[8]=V("  ",-1))]),_:1})]),l.value?(o(),L("div",js,[n($,{name:"i-lucide-loader-2",class:"w-8 h-8 animate-spin text-muted"})])):i.value.length>0?(o(),L("div",Ks,[(o(!0),L(ge,null,Fe(i.value,b=>(o(),L("div",{key:b.key,class:"p-4 hover:bg-muted/50 transition-colors"},[a("div",Gs,[a("div",Hs,[a("code",Ws,B(b.key),1),a("p",Ys,B(b.value),1),a("p",Js,B(z(b.updated_at)),1)]),a("div",Qs,[n(Y,{icon:"i-lucide-pencil",size:"sm",color:"neutral",variant:"ghost",onClick:p=>R(b)},null,8,["onClick"]),n(Y,{icon:"i-lucide-trash-2",size:"sm",color:"error",variant:"ghost",onClick:p=>U(b)},null,8,["onClick"])])])]))),128))])):(o(),L("div",Xs,[n(te,{icon:"i-lucide-settings-2",title:""})])),f.value>y.limit?(o(),L("div",Zs,[n(le,{page:S.value,"onUpdate:page":[C[1]||(C[1]=b=>S.value=b),Z],total:f.value,"items-per-page":y.limit},null,8,["page","total","items-per-page"])])):O("",!0),n(ue,{open:g.value,"onUpdate:open":C[5]||(C[5]=b=>g.value=b),title:h.value?"":"",description:"",ui:{width:"max-w-xl"}},{body:d(()=>[a("form",{id:"config-form",class:"space-y-4",onSubmit:ke(j,["prevent"])},[n(M,{label:"",required:""},{hint:d(()=>[...C[9]||(C[9]=[a("span",{class:"text-xs text-muted"},"",-1)])]),default:d(()=>[n(I,{modelValue:m.key,"onUpdate:modelValue":C[2]||(C[2]=b=>m.key=b),placeholder:"music.scan.path",class:"w-full font-mono",disabled:!!h.value,required:""},null,8,["modelValue","disabled"])]),_:1}),n(M,{label:"",required:""},{default:d(()=>[n(ne,{modelValue:m.value,"onUpdate:modelValue":C[3]||(C[3]=b=>m.value=b),placeholder:"",class:"w-full font-mono",rows:4,required:""},null,8,["modelValue"])]),_:1})],32)]),footer:d(()=>[a("div",ei,[n(Y,{size:"sm",color:"neutral",variant:"ghost",onClick:C[4]||(C[4]=b=>g.value=!1)},{default:d(()=>[...C[10]||(C[10]=[V("  ",-1)])]),_:1}),n(Y,{size:"sm",type:"submit",form:"config-form",loading:e.value},{default:d(()=>[...C[11]||(C[11]=[V("  ",-1)])]),_:1},8,["loading"])])]),_:1},8,["open","title"]),n(ue,{open:_.value,"onUpdate:open":C[7]||(C[7]=b=>_.value=b),title:"",description:""},{body:d(()=>{var b;return[a("p",null,[C[12]||(C[12]=V("",-1)),a("code",ti,B((b=v.value)==null?void 0:b.key),1),C[13]||(C[13]=V("",-1))])]}),footer:d(()=>[a("div",ai,[n(Y,{color:"neutral",variant:"ghost",onClick:C[6]||(C[6]=b=>_.value=!1)},{default:d(()=>[...C[14]||(C[14]=[V("  ",-1)])]),_:1}),n(Y,{color:"error",loading:s.value,onClick:x},{default:d(()=>[...C[15]||(C[15]=[V("  ",-1)])]),_:1},8,["loading"])])]),_:1},8,["open"])])}}}),si={class:"space-y-4"},ii={class:"flex justify-end"},oi={key:0,class:"flex justify-center py-8"},ri={key:1,class:"grid grid-cols-1 gap-4"},ni={class:"flex items-start justify-between"},ui={class:"flex-1 min-w-0"},di={class:"flex items-center gap-2 mb-1"},ci={class:"font-semibold"},pi={class:"text-sm text-muted line-clamp-2"},fi={class:"flex items-center gap-4 mt-2 text-xs text-muted"},vi={key:0,class:"flex items-center gap-1"},mi=["href"],gi=["href"],yi={class:"flex gap-1 shrink-0 ml-4"},bi={key:2,class:"text-center py-8"},hi={class:"space-y-4"},_i={key:0,class:"p-3 bg-muted/50 rounded-lg flex items-center justify-between"},xi={class:"flex items-center gap-2"},ki={class:"text-sm"},Ci={class:"text-xs text-muted"},wi={class:"flex justify-end gap-2"},qi={class:"flex justify-end gap-2"},Ii=Q({__name:"PluginManager",emits:["close"],setup(r,{emit:u}){const l=Ga(),e=E(!1),s=E(!1),i=E(!1),f=E([]),c=E({}),y=E(!1),S=E(!1),g=E(null),_=E(null),h=E(!1),v=E(null),m=$=>{switch($){case"active":return"";case"inactive":return"";case"error":return"";default:return $}},z=$=>$<1024?$+" B":$<1024*1024?($/1024).toFixed(1)+" KB":($/(1024*1024)).toFixed(1)+" MB",D=$=>`${l.baseURL}/api/v1/plugin${$}`,X=async()=>{e.value=!0;try{const I=(await ta()).data;f.value=I.plugins||I.data||[]}catch($){console.error(":",$)}finally{e.value=!1}},Z=()=>{var $;($=_.value)==null||$.click()},J=$=>{const I=$.target;I.files&&I.files.length>0&&(g.value=I.files[0])},R=$=>{var I;if(S.value=!1,(I=$.dataTransfer)!=null&&I.files&&$.dataTransfer.files.length>0){const Y=$.dataTransfer.files[0];Y.name.endsWith(".wasm")&&(g.value=Y)}},j=async()=>{if(g.value){s.value=!0;try{await Ha(g.value),y.value=!1,g.value=null,X()}catch($){console.error(":",$)}finally{s.value=!1}}},U=async $=>{try{c.value[$.id]=!0,await Wa(String($.id)),X()}catch(I){console.error(":",I)}finally{c.value[$.id]=!1}},x=async $=>{try{c.value[$.id]=!0,await Ya(String($.id)),X()}catch(I){console.error(":",I)}finally{c.value[$.id]=!1}},k=$=>{v.value=$,h.value=!0},C=async()=>{if(v.value){i.value=!0;try{await Ja(String(v.value.id)),h.value=!1,X()}catch($){console.error(":",$)}finally{i.value=!1}}};return he(()=>{X()}),($,I)=>{const Y=Ie,te=je,le=ft,M=It,ne=St,ue=pt;return o(),L("div",si,[a("div",ii,[n(te,{size:"sm",onClick:I[0]||(I[0]=b=>y.value=!0)},{default:d(()=>[n(Y,{name:"i-lucide-upload",class:"w-4 h-4 mr-1"}),I[9]||(I[9]=V("  ",-1))]),_:1})]),e.value?(o(),L("div",oi,[n(Y,{name:"i-lucide-loader-2",class:"w-8 h-8 animate-spin text-muted"})])):f.value.length>0?(o(),L("div",ri,[(o(!0),L(ge,null,Fe(f.value,b=>(o(),q(M,{key:b.id},{default:d(()=>{var p;return[a("div",ni,[a("div",ui,[a("div",di,[a("h3",ci,B(b.name),1),n(le,{size:"xs",variant:"subtle"},{default:d(()=>[V("v"+B(b.version),1)]),_:2},1024),n(le,{color:b.status==="active"?"success":b.status==="error"?"error":"neutral",size:"xs",variant:"subtle"},{default:d(()=>[V(B(m(b.status)),1)]),_:2},1032,["color"])]),a("p",pi,B(b.description||""),1),a("div",fi,[b.author?(o(),L("span",vi,[n(Y,{name:"i-lucide-user",class:"w-3 h-3"}),V(" "+B(b.author),1)])):O("",!0),b.homepage?(o(),L("a",{key:1,href:b.homepage,target:"_blank",class:"flex items-center gap-1 text-primary hover:underline"},[n(Y,{name:"i-lucide-link",class:"w-3 h-3"}),I[10]||(I[10]=V("  ",-1))],8,mi)):O("",!0),b.entry_path&&b.status==="active"?(o(),L("a",{key:2,href:D(b.entry_path),target:"_blank",class:"flex items-center gap-1 text-primary hover:underline"},[n(Y,{name:"i-lucide-external-link",class:"w-3 h-3"}),I[11]||(I[11]=V("  ",-1))],8,gi)):O("",!0)])]),a("div",yi,[b.status==="inactive"?(o(),q(te,{key:0,icon:"i-lucide-play",size:"sm",color:"success",variant:"ghost",loading:c.value[b.id],onClick:N=>U(b)},null,8,["loading","onClick"])):b.status==="active"?(o(),q(te,{key:1,icon:"i-lucide-pause",size:"sm",color:"warning",variant:"ghost",loading:c.value[b.id],onClick:N=>x(b)},null,8,["loading","onClick"])):O("",!0),n(te,{icon:"i-lucide-trash-2",size:"sm",color:"error",variant:"ghost",loading:i.value&&((p=v.value)==null?void 0:p.id)===b.id,onClick:N=>k(b)},null,8,["loading","onClick"])])])]}),_:2},1024))),128))])):(o(),L("div",bi,[n(ne,{icon:"i-lucide-puzzle",title:""},{actions:d(()=>[n(te,{size:"sm",onClick:I[1]||(I[1]=b=>y.value=!0)},{default:d(()=>[...I[12]||(I[12]=[V("  ",-1)])]),_:1})]),_:1})])),n(ue,{open:y.value,"onUpdate:open":I[6]||(I[6]=b=>y.value=b),title:"",description:" WebAssembly ",ui:{width:"max-w-xl"}},{body:d(()=>[a("div",hi,[a("div",{class:G(["border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors",S.value?"border-primary bg-primary/5":"border-default hover:border-primary"]),onDragover:I[2]||(I[2]=ke(b=>S.value=!0,["prevent"])),onDragleave:I[3]||(I[3]=ke(b=>S.value=!1,["prevent"])),onDrop:ke(R,["prevent"]),onClick:Z},[n(Y,{name:"i-lucide-cloud-upload",class:"w-12 h-12 mx-auto text-muted mb-3"}),I[13]||(I[13]=a("p",{class:"text-sm mb-1"},"",-1)),I[14]||(I[14]=a("p",{class:"text-xs text-muted"}," .wasm ",-1)),a("input",{ref_key:"fileInput",ref:_,type:"file",accept:".wasm",class:"hidden",onChange:J},null,544)],34),g.value?(o(),L("div",_i,[a("div",xi,[n(Y,{name:"i-lucide-file",class:"w-5 h-5"}),a("span",ki,B(g.value.name),1),a("span",Ci,"("+B(z(g.value.size))+")",1)]),n(te,{icon:"i-lucide-x",size:"xs",color:"neutral",variant:"ghost",onClick:I[4]||(I[4]=b=>g.value=null)})])):O("",!0)])]),footer:d(()=>[a("div",wi,[n(te,{size:"sm",color:"neutral",variant:"ghost",onClick:I[5]||(I[5]=b=>y.value=!1)},{default:d(()=>[...I[15]||(I[15]=[V("  ",-1)])]),_:1}),n(te,{size:"sm",loading:s.value,disabled:!g.value,onClick:j},{default:d(()=>[...I[16]||(I[16]=[V("  ",-1)])]),_:1},8,["loading","disabled"])])]),_:1},8,["open"]),n(ue,{open:h.value,"onUpdate:open":I[8]||(I[8]=b=>h.value=b),title:"",description:""},{body:d(()=>{var b;return[a("p",null,""+B((b=v.value)==null?void 0:b.name)+"",1)]}),footer:d(()=>[a("div",qi,[n(te,{size:"sm",color:"neutral",variant:"ghost",onClick:I[7]||(I[7]=b=>h.value=!1)},{default:d(()=>[...I[17]||(I[17]=[V("  ",-1)])]),_:1}),n(te,{size:"sm",color:"error",loading:i.value,onClick:C},{default:d(()=>[...I[18]||(I[18]=[V("  ",-1)])]),_:1},8,["loading"])])]),_:1},8,["open"])])}}}),Si={class:"space-y-4"},zi={class:"flex gap-2"},$i={key:0,class:"flex justify-center py-8"},Bi={key:1,class:"divide-y divide-default rounded-lg border border-default"},Ei={class:"flex items-start justify-between gap-4"},Li={class:"flex-1 min-w-0"},Ai={class:"flex items-center gap-2 mb-1"},Fi={class:"text-xs text-muted"},Ti={class:"text-sm text-muted mt-1 truncate"},Vi={class:"flex gap-4 mt-2 text-xs text-muted"},Oi={class:"flex gap-1 shrink-0"},Pi={key:2,class:"text-center py-8"},Mi={key:3,class:"flex justify-center"},Ri={key:0,class:"space-y-4"},Di={class:"block p-2 bg-muted/50 rounded text-xs break-all"},Ui={class:"text-sm break-all"},Ni={class:"text-sm"},ji={class:"text-sm"},Ki={key:0},Gi={class:"text-sm"},Hi={class:"flex justify-end"},Wi={class:"flex justify-end gap-2"},Yi=Q({__name:"TokenManager",emits:["close"],setup(r,{emit:u}){const l=E(!1),e=E(!1),s=E([]),i=E(0),f=Ne({type:"all"}),c=Ne({limit:10,offset:0}),y=H({get:()=>Math.floor(c.offset/c.limit)+1,set:U=>{c.offset=(U-1)*c.limit}}),S=E(!1),g=E(!1),_=E(null),h=E(null),v=[{value:"all",label:""},{value:"access",label:""},{value:"refresh",label:""}],m=U=>U?new Date(U).toLocaleString("zh-CN"):"-",z=U=>new Date(U)<new Date,D=async()=>{l.value=!0;try{const U={limit:c.limit,offset:c.offset};f.type!=="all"&&(U.type=f.type);const k=(await aa(U)).data;s.value=k.tokens||k.data||[],i.value=k.total||(k.tokens||k.data||[]).length}catch(U){console.error(":",U)}finally{l.value=!1}},X=()=>{c.offset=0,D()},Z=()=>{D()},J=U=>{_.value=U,S.value=!0},R=U=>{h.value=U,g.value=!0},j=async()=>{if(h.value){e.value=!0;try{await Qa(h.value.token_id),g.value=!1,D()}catch(U){console.error(":",U)}finally{e.value=!1}}};return he(()=>{D()}),(U,x)=>{const k=el,C=Ie,$=ft,I=je,Y=St,te=la,le=pt;return o(),L("div",Si,[a("div",zi,[n(k,{modelValue:f.type,"onUpdate:modelValue":x[0]||(x[0]=M=>f.type=M),items:v,"value-key":"value",class:"w-40",onChange:X},null,8,["modelValue"])]),l.value?(o(),L("div",$i,[n(C,{name:"i-lucide-loader-2",class:"w-8 h-8 animate-spin text-muted"})])):s.value.length>0?(o(),L("div",Bi,[(o(!0),L(ge,null,Fe(s.value,M=>(o(),L("div",{key:M.token_id,class:"p-4 hover:bg-muted/50 transition-colors"},[a("div",Ei,[a("div",Li,[a("div",Ai,[n($,{color:M.token_type==="access"?"primary":"neutral",size:"xs",variant:"subtle"},{default:d(()=>[V(B(M.token_type==="access"?"":""),1)]),_:2},1032,["color"]),M.revoked_at?(o(),q($,{key:0,color:"error",size:"xs",variant:"subtle"},{default:d(()=>[...x[6]||(x[6]=[V("  ",-1)])]),_:1})):z(M.expires_at)?(o(),q($,{key:1,color:"neutral",size:"xs",variant:"subtle"},{default:d(()=>[...x[7]||(x[7]=[V("  ",-1)])]),_:1})):(o(),q($,{key:2,color:"success",size:"xs",variant:"subtle"},{default:d(()=>[...x[8]||(x[8]=[V("  ",-1)])]),_:1}))]),a("code",Fi,B(M.token_id.substring(0,24))+"...",1),a("p",Ti,B(M.client_info),1),a("div",Vi,[a("span",null,""+B(m(M.created_at)),1),a("span",null,""+B(m(M.expires_at)),1)])]),a("div",Oi,[n(I,{icon:"i-lucide-eye",size:"sm",color:"neutral",variant:"ghost",onClick:ne=>J(M)},null,8,["onClick"]),M.revoked_at?O("",!0):(o(),q(I,{key:0,icon:"i-lucide-x-circle",size:"sm",color:"error",variant:"ghost",onClick:ne=>R(M)},null,8,["onClick"]))])])]))),128))])):(o(),L("div",Pi,[n(Y,{icon:"i-lucide-key",title:""})])),i.value>c.limit?(o(),L("div",Mi,[n(te,{page:y.value,"onUpdate:page":[x[1]||(x[1]=M=>y.value=M),Z],total:i.value,"items-per-page":c.limit},null,8,["page","total","items-per-page"])])):O("",!0),n(le,{open:S.value,"onUpdate:open":x[3]||(x[3]=M=>S.value=M),title:"",description:"",ui:{width:"max-w-xl"}},{body:d(()=>[_.value?(o(),L("div",Ri,[a("div",null,[x[9]||(x[9]=a("label",{class:"block text-sm font-medium mb-1"}," ID",-1)),a("code",Di,B(_.value.token_id),1)]),a("div",null,[x[10]||(x[10]=a("label",{class:"block text-sm font-medium mb-1"},"",-1)),n($,{color:_.value.token_type==="access"?"primary":"neutral",variant:"subtle"},{default:d(()=>[V(B(_.value.token_type==="access"?"":""),1)]),_:1},8,["color"])]),a("div",null,[x[11]||(x[11]=a("label",{class:"block text-sm font-medium mb-1"},"",-1)),a("p",Ui,B(_.value.client_info),1)]),a("div",null,[x[12]||(x[12]=a("label",{class:"block text-sm font-medium mb-1"},"",-1)),a("p",Ni,B(m(_.value.created_at)),1)]),a("div",null,[x[13]||(x[13]=a("label",{class:"block text-sm font-medium mb-1"},"",-1)),a("p",ji,B(m(_.value.expires_at)),1)]),_.value.revoked_at?(o(),L("div",Ki,[x[14]||(x[14]=a("label",{class:"block text-sm font-medium mb-1"},"",-1)),a("p",Gi,B(m(_.value.revoked_at)),1)])):O("",!0)])):O("",!0)]),footer:d(()=>[a("div",Hi,[n(I,{size:"sm",color:"neutral",variant:"ghost",onClick:x[2]||(x[2]=M=>S.value=!1)},{default:d(()=>[...x[15]||(x[15]=[V("  ",-1)])]),_:1})])]),_:1},8,["open"]),n(le,{open:g.value,"onUpdate:open":x[5]||(x[5]=M=>g.value=M),title:"",description:"",ui:{width:"max-w-xl"}},{body:d(()=>[...x[16]||(x[16]=[a("p",null,"",-1)])]),footer:d(()=>[a("div",Wi,[n(I,{size:"sm",color:"neutral",variant:"ghost",onClick:x[4]||(x[4]=M=>g.value=!1)},{default:d(()=>[...x[17]||(x[17]=[V("  ",-1)])]),_:1}),n(I,{size:"sm",color:"error",loading:e.value,onClick:j},{default:d(()=>[...x[18]||(x[18]=[V("  ",-1)])]),_:1},8,["loading"])])]),_:1},8,["open"])])}}}),gt={IDLE:"idle",DOWNLOADING:"downloading",TESTING:"testing",REPLACING:"replacing",RESTARTING:"restarting",COMPLETED:"completed",FAILED:"failed"},Le={SCANNING:"scanning",IMPORTING:"importing",COMPLETED:"completed",FAILED:"failed",CANCELLING:"cancelling",CANCELLED:"cancelled"},Ji={class:"space-y-6"},Qi={class:"bg-muted/50 rounded-lg p-4"},Xi={class:"space-y-1 text-sm"},Zi={class:"flex justify-between"},eo={class:"flex justify-between"},to={class:"font-mono"},ao={class:"flex justify-between"},lo={key:0,class:"flex items-center justify-center py-8"},so={key:1,class:"space-y-4"},io={class:"flex items-start justify-between mb-3"},oo={class:"flex items-center gap-2"},ro={class:"font-semibold"},no={class:"space-y-1 text-sm text-muted"},uo={class:"font-mono"},co={key:0,class:"mt-2 pt-2 border-t"},po={class:"flex items-start justify-between mb-3"},fo={class:"flex items-center gap-2"},vo={class:"font-semibold"},mo={class:"space-y-1 text-sm text-muted"},go={class:"font-mono"},yo={key:0,class:"mt-2 pt-2 border-t"},bo={class:"mt-3 p-2 bg-warning/10 rounded text-sm text-warning"},ho={key:2,class:"text-center py-8 text-muted"},_o={key:2,class:"space-y-4"},xo={class:"text-center py-4"},ko={class:"text-lg font-semibold mb-2"},Co={class:"text-sm text-muted"},wo={key:0,class:"space-y-2"},qo={class:"flex justify-between text-sm text-muted"},Io={class:"w-full bg-muted rounded-full h-2"},So={key:1,class:"p-4 bg-error/10 rounded-lg text-error text-sm"},zo={key:2,class:"p-4 bg-success/10 rounded-lg text-success text-sm"},$o={class:"flex justify-end gap-2 pt-4 border-t"},Bo=Q({__name:"UpgradeModal",emits:["close","upgraded"],setup(r,{emit:u}){const l=u,e=E(!0),s=E(!1),i=E(null),f=E(3),c=Ne({version:"",git_commit:"",build_time:""}),y=E(null),S=E(null),g=Ne({status:"idle",progress:0,current_step:"",error:""});let _=null,h=null;const v=x=>{if(!x||x==="unknown")return"";try{const[k,C]=x.split("_");return`${k} ${C.replace(/_/g,":")}`}catch{return x}},m=x=>x.git_commit!==c.git_commit,z=x=>({idle:"",downloading:"",testing:"",replacing:"",restarting:"",completed:"",failed:""})[x]||x,D=async()=>{e.value=!0;try{const x=await Fs();Object.assign(c,x.data.current),x.data.stable&&!("error"in x.data.stable)&&(y.value=x.data.stable),x.data.dev&&!("error"in x.data.dev)&&(S.value=x.data.dev)}catch(x){console.error(":",x)}finally{e.value=!1}},X=async()=>{try{const x=await Os();Object.assign(g,x.data),g.status===gt.COMPLETED&&!h&&R(),(g.status===gt.COMPLETED||g.status===gt.FAILED)&&J()}catch(x){console.error(":",x)}},Z=()=>{_&&clearInterval(_),_=setInterval(X,500)},J=()=>{_&&(clearInterval(_),_=null)},R=()=>{h=setInterval(()=>{f.value--,f.value<=0&&U()},1e3)},j=async()=>{if(i.value){s.value=!0;try{await Vs({version_type:i.value}),Z(),await X()}catch(x){console.error(":",x),s.value=!1}}},U=()=>{l("upgraded"),window.location.reload()};return he(()=>{D()}),We(()=>{J(),h&&clearInterval(h)}),(x,k)=>{var Y,te,le;const C=Ie,$=ft,I=je;return o(),L("div",Ji,[a("div",Qi,[k[7]||(k[7]=a("h3",{class:"font-semibold mb-2"},"",-1)),a("div",Xi,[a("div",Zi,[k[4]||(k[4]=a("span",{class:"text-muted"},":",-1)),a("span",null,B(c.version),1)]),a("div",eo,[k[5]||(k[5]=a("span",{class:"text-muted"},"Git Commit:",-1)),a("span",to,B((Y=c.git_commit)==null?void 0:Y.substring(0,8)),1)]),a("div",ao,[k[6]||(k[6]=a("span",{class:"text-muted"},":",-1)),a("span",null,B(v(c.build_time)),1)])])]),e.value?(o(),L("div",lo,[n(C,{name:"i-lucide-loader-2",class:"w-8 h-8 animate-spin text-primary"}),k[8]||(k[8]=a("span",{class:"ml-2 text-muted"},"...",-1))])):s.value?(o(),L("div",_o,[a("div",xo,[g.status!=="failed"&&g.status!=="completed"?(o(),q(C,{key:0,name:"i-lucide-loader-2",class:"w-12 h-12 mx-auto mb-4 animate-spin text-primary"})):g.status==="completed"?(o(),q(C,{key:1,name:"i-lucide-check-circle",class:"w-12 h-12 mx-auto mb-4 text-success"})):(o(),q(C,{key:2,name:"i-lucide-x-circle",class:"w-12 h-12 mx-auto mb-4 text-error"})),a("p",ko,B(z(g.status)),1),a("p",Co,B(g.current_step),1)]),g.status!=="failed"&&g.status!=="completed"?(o(),L("div",wo,[a("div",qo,[k[19]||(k[19]=a("span",null,"",-1)),a("span",null,B(g.progress)+"%",1)]),a("div",Io,[a("div",{class:"h-2 rounded-full transition-all duration-300 bg-primary",style:ht({width:`${g.progress}%`})},null,4)])])):O("",!0),g.error?(o(),L("div",So,[n(C,{name:"i-lucide-alert-circle",class:"w-4 h-4 inline mr-1"}),V(" "+B(g.error),1)])):O("",!0),g.status==="completed"?(o(),L("div",zo,[n(C,{name:"i-lucide-check-circle",class:"w-4 h-4 inline mr-1"}),V("  "+B(f.value)+" ... ",1)])):O("",!0)])):(o(),L("div",so,[y.value?(o(),L("div",{key:0,class:G(["border rounded-lg p-4 cursor-pointer transition-all hover:border-primary",{"border-primary bg-primary/5":i.value==="stable"}]),onClick:k[0]||(k[0]=M=>i.value="stable")},[a("div",io,[a("div",oo,[n($,{color:"success",variant:"subtle"},{default:d(()=>[...k[9]||(k[9]=[V("",-1)])]),_:1}),a("span",ro,B(y.value.version),1),m(y.value)?(o(),q($,{key:0,color:"primary",variant:"subtle"},{default:d(()=>[...k[10]||(k[10]=[V("  ",-1)])]),_:1})):O("",!0)]),i.value==="stable"?(o(),q(C,{key:0,name:"i-lucide-check-circle",class:"w-5 h-5 text-primary"})):O("",!0)]),a("div",no,[a("div",null,[k[11]||(k[11]=V("Git Commit: ",-1)),a("span",uo,B((te=y.value.git_commit)==null?void 0:te.substring(0,8)),1)]),a("div",null,": "+B(v(y.value.build_time)),1),y.value.release_notes?(o(),L("div",co,[k[12]||(k[12]=a("p",{class:"font-medium text-foreground mb-1"},":",-1)),a("p",null,B(y.value.release_notes),1)])):O("",!0)])],2)):O("",!0),S.value?(o(),L("div",{key:1,class:G(["border rounded-lg p-4 cursor-pointer transition-all hover:border-primary",{"border-primary bg-primary/5":i.value==="dev"}]),onClick:k[1]||(k[1]=M=>i.value="dev")},[a("div",po,[a("div",fo,[n($,{color:"warning",variant:"subtle"},{default:d(()=>[...k[13]||(k[13]=[V("",-1)])]),_:1}),a("span",vo,B(S.value.version),1),m(S.value)?(o(),q($,{key:0,color:"primary",variant:"subtle"},{default:d(()=>[...k[14]||(k[14]=[V("  ",-1)])]),_:1})):O("",!0)]),i.value==="dev"?(o(),q(C,{key:0,name:"i-lucide-check-circle",class:"w-5 h-5 text-primary"})):O("",!0)]),a("div",mo,[a("div",null,[k[15]||(k[15]=V("Git Commit: ",-1)),a("span",go,B((le=S.value.git_commit)==null?void 0:le.substring(0,8)),1)]),a("div",null,": "+B(v(S.value.build_time)),1),S.value.release_notes?(o(),L("div",yo,[k[16]||(k[16]=a("p",{class:"font-medium text-foreground mb-1"},":",-1)),a("p",null,B(S.value.release_notes),1)])):O("",!0)]),a("div",bo,[n(C,{name:"i-lucide-alert-triangle",class:"w-4 h-4 inline mr-1"}),k[17]||(k[17]=V("  ",-1))])],2)):O("",!0),!y.value&&!S.value?(o(),L("div",ho,[n(C,{name:"i-lucide-check-circle",class:"w-12 h-12 mx-auto mb-2"}),k[18]||(k[18]=a("p",null,"",-1))])):O("",!0)])),a("div",$o,[s.value?O("",!0):(o(),q(I,{key:0,variant:"outline",onClick:k[2]||(k[2]=M=>x.$emit("close"))},{default:d(()=>[...k[20]||(k[20]=[V("  ",-1)])]),_:1})),!s.value&&i.value?(o(),q(I,{key:1,disabled:!i.value,onClick:j},{default:d(()=>[n(C,{name:"i-lucide-arrow-up-circle",class:"w-4 h-4 mr-1"}),k[21]||(k[21]=V("  ",-1))]),_:1},8,["disabled"])):O("",!0),s.value&&g.status==="completed"?(o(),q(I,{key:2,onClick:U},{default:d(()=>[n(C,{name:"i-lucide-refresh-cw",class:"w-4 h-4 mr-1"}),k[22]||(k[22]=V("  ",-1))]),_:1})):O("",!0),s.value&&g.status==="failed"?(o(),q(I,{key:3,variant:"outline",onClick:k[3]||(k[3]=M=>x.$emit("close"))},{default:d(()=>[...k[23]||(k[23]=[V("  ",-1)])]),_:1})):O("",!0)])])}}}),Eo={class:"flex items-center gap-3"},Lo={class:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10"},Ao={class:"space-y-4"},Fo={class:"flex items-center gap-3"},To={class:"flex h-10 w-10 items-center justify-center rounded-lg bg-success/10"},Vo=Q({__name:"PwaInstallPrompt",setup(r,{expose:u}){const l=Ea(),e=E(null),s=E(!1),i=E(!1),f=E(!1),c=()=>{if(window.matchMedia("(display-mode: standalone)").matches){i.value=!0;return}if(navigator.standalone===!0){i.value=!0;return}};he(()=>{c(),window.addEventListener("beforeinstallprompt",S=>{S.preventDefault(),e.value=S,s.value=!0}),window.addEventListener("appinstalled",()=>{i.value=!0,s.value=!1,e.value=null,l.add({title:"",description:"MiMusic ",color:"success"})})});const y=async()=>{if(!e.value){l.add({title:"",description:" PWA ",color:"error"});return}f.value=!0;try{e.value.prompt();const{outcome:S}=await e.value.userChoice;S==="accepted"?l.add({title:"",description:"MiMusic ...",color:"primary"}):l.add({title:"",description:"",color:"neutral"}),e.value=null,s.value=!1}catch(S){console.error(":",S),l.add({title:"",description:"",color:"error"})}finally{f.value=!1}};return u({install:y,canInstall:s,isInstalled:i}),(S,g)=>{const _=Ie,h=je,v=La,m=It;return o(),L("div",null,[i.value?(o(),q(m,{key:1},{header:d(()=>[a("div",Fo,[a("div",To,[n(_,{name:"i-lucide-check-circle",class:"h-5 w-5 text-success"})]),g[3]||(g[3]=a("div",null,[a("h3",{class:"text-base font-semibold"},""),a("p",{class:"text-sm text-muted"},"MiMusic ")],-1))])]),default:d(()=>[g[4]||(g[4]=a("div",{class:"text-sm text-muted"},[a("p",null," MiMusic")],-1))]),_:1})):(o(),q(m,{key:0},{header:d(()=>[a("div",Eo,[a("div",Lo,[n(_,{name:"i-lucide-download",class:"h-5 w-5 text-primary"})]),g[0]||(g[0]=a("div",null,[a("h3",{class:"text-base font-semibold"},""),a("p",{class:"text-sm text-muted"}," MiMusic ")],-1))])]),default:d(()=>[a("div",Ao,[g[2]||(g[2]=a("div",{class:"text-sm text-muted"},[a("p",{class:"mb-2"},""),a("ul",{class:"list-inside list-disc space-y-1"},[a("li",null,""),a("li",null,""),a("li",null,""),a("li",null,"")])],-1)),s.value?(o(),q(h,{key:0,color:"primary",block:"",loading:f.value,onClick:y},{default:d(()=>[n(_,{name:"i-lucide-download",class:"h-4 w-4"}),g[1]||(g[1]=V("  ",-1))]),_:1},8,["loading"])):(o(),q(v,{key:1,color:"neutral",variant:"subtle",title:"",description:" PWA  ChromeEdge  Safari "}))])]),_:1}))])}}}),Oo={class:"space-y-6"},Po={class:"space-y-4"},Mo={class:"flex items-center gap-2"},Ro={class:"space-y-4"},Do={class:"flex items-center justify-between"},Uo={class:"flex items-center gap-2"},No={class:"space-y-4"},jo={class:"space-y-3"},Ko={class:"flex items-center justify-between"},Go={class:"flex gap-2"},Ho={class:"flex items-start justify-between pt-2"},Wo={key:0,class:"space-y-2"},Yo={class:"flex items-center justify-between text-sm"},Jo={class:"text-muted"},Qo={key:0,class:"text-muted"},Xo={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},Zo={class:"flex flex-wrap gap-4 text-xs text-muted"},er={key:0},tr={key:1},ar={key:2},lr={key:0,class:"text-xs text-muted truncate"},sr={key:1,class:"text-xs text-red-500"},ir={class:"flex items-center justify-between"},or={class:"flex items-center gap-2"},rr={class:"space-y-4"},nr={class:"flex items-center justify-between"},ur={class:"text-sm text-muted"},dr={class:"flex items-center justify-between"},cr={class:"text-sm text-muted"},pr={class:"flex items-center gap-2"},fr={class:"space-y-4"},vr={class:"flex items-center justify-between"},mr={class:"text-sm text-muted"},gr={class:"flex items-center justify-between"},yr={class:"text-sm text-muted"},br={class:"flex items-center justify-between"},hr={class:"text-sm text-muted"},_r={class:"flex items-center justify-between"},xr={class:"flex items-center justify-between"},kr={class:"text-sm text-muted"},Cr={class:"flex items-center justify-between"},wr={class:"flex items-center justify-between"},Mr=Q({__name:"index",setup(r){const u=Fa(),l=Aa(),e=E(!1),s=E(!1),i=E(!1),f=E(!1),c=E(!1),y=E("skip"),S=[{value:"skip",label:""},{value:"reimport",label:""}],g=E(!1),_=E(!1),h=E(!1),v=Ne({status:"idle",total_files:0,scanned_files:0,imported_files:0,skipped_files:0,failed_files:0,current_file:"",start_time:null,end_time:null,error:""});let m=null;const z=H(()=>v.status===Le.SCANNING||v.status===Le.IMPORTING||v.status===Le.CANCELLING),D=H(()=>v.total_files===0?v.status===Le.SCANNING?0:100:Math.round(v.scanned_files/v.total_files*100)),X=E(0),Z=E(0),J=E({version:"",git_commit:"",build_time:""}),R=E(""),j=b=>({idle:"",scanning:"...",importing:"...",completed:"",failed:"",cancelling:"...",cancelled:""})[b]||b,U=b=>{switch(b){case Le.COMPLETED:return"bg-green-500";case Le.FAILED:return"bg-red-500";case Le.CANCELLED:case Le.CANCELLING:return"bg-yellow-500";default:return"bg-primary"}},x=b=>b.split("/").pop()||b,k=async()=>{try{const b=await Bs();Object.assign(v,b.data),!z.value&&m&&(clearInterval(m),m=null)}catch(b){console.error(":",b)}},C=()=>{m&&clearInterval(m),m=setInterval(k,500)},$=async()=>{e.value=!0;try{await $s({path:"",reimport:y.value==="reimport"}),C(),await k()}catch(b){console.error(":",b)}finally{e.value=!1}},I=async()=>{try{await Es(),await k()}catch(b){console.error(":",b)}},Y=async()=>{var b,p;try{const[N,se]=await Promise.all([ta({limit:100}),aa({limit:100})]);X.value=((b=N.data.plugins)==null?void 0:b.length)||0,Z.value=((p=se.data.tokens)==null?void 0:p.length)||0}catch(N){console.error(":",N)}},te=async()=>{var b;h.value=!0;try{const p=await Ts();g.value=!0,_.value=p.data.has_update}catch(p){((b=p==null?void 0:p.response)==null?void 0:b.status)===403&&(g.value=!1),console.error(":",p)}finally{h.value=!1}},le=()=>{c.value=!1,setTimeout(()=>{window.location.reload()},3e3)},M=async()=>{try{const b=await Ls();J.value=b.data;const p=await As();R.value=p.data.status==="ok"?"":"",await te()}catch(b){console.error(":",b),R.value=""}},ne=b=>{if(!b)return"";try{return new Date(b).toLocaleString("zh-CN")}catch{return b}},ue=()=>{l.clearTokens(),u.push("/login")};return he(()=>{Y(),M(),k().then(()=>{z.value&&C()})}),We(()=>{m&&(clearInterval(m),m=null)}),(b,p)=>{const N=Ie,se=zs,ce=It,P=je,Se=Cs,oe=xs,$e=ft,F=pt;return o(),L("div",Oo,[p[36]||(p[36]=a("div",null,[a("h1",{class:"text-2xl md:text-3xl font-bold"},""),a("p",{class:"text-sm text-muted mt-1"},"")],-1)),a("div",Po,[n(ce,null,{header:d(()=>[a("div",Mo,[n(N,{name:"i-lucide-settings",class:"w-5 h-5"}),p[13]||(p[13]=a("span",{class:"text-lg font-semibold"},"",-1))])]),default:d(()=>[a("div",Ro,[a("div",Do,[p[14]||(p[14]=a("div",null,[a("p",{class:"font-medium"},""),a("p",{class:"text-sm text-muted"},"")],-1)),n(se)])])]),_:1}),n(ce,null,{header:d(()=>[a("div",Uo,[n(N,{name:"i-lucide-library",class:"w-5 h-5"}),p[15]||(p[15]=a("span",{class:"text-lg font-semibold"},"",-1))])]),default:d(()=>[a("div",No,[a("div",jo,[a("div",Ko,[p[17]||(p[17]=a("div",null,[a("p",{class:"font-medium"},""),a("p",{class:"text-sm text-muted"},"")],-1)),a("div",Go,[z.value?(o(),q(P,{key:0,size:"sm",color:"error",variant:"outline",onClick:I},{default:d(()=>[n(N,{name:"i-lucide-x",class:"w-4 h-4 mr-1"}),p[16]||(p[16]=V("  ",-1))]),_:1})):O("",!0),n(P,{size:"sm",loading:e.value,disabled:z.value,onClick:$},{default:d(()=>[n(N,{name:"i-lucide-folder-search",class:"w-4 h-4 mr-1"}),V(" "+B(z.value?"":""),1)]),_:1},8,["loading","disabled"])])]),a("div",Ho,[p[18]||(p[18]=a("div",null,[a("p",{class:"font-medium"},""),a("p",{class:"text-sm text-muted"},"")],-1)),n(Se,{modelValue:y.value,"onUpdate:modelValue":p[0]||(p[0]=T=>y.value=T),items:S,class:"flex flex-col items-end gap-1"},null,8,["modelValue"])]),v.status!=="idle"?(o(),L("div",Wo,[a("div",Yo,[a("span",Jo,B(j(v.status)),1),v.total_files>0?(o(),L("span",Qo,B(v.scanned_files)+" / "+B(v.total_files),1)):O("",!0)]),a("div",Xo,[a("div",{class:G(["h-2 rounded-full transition-all duration-300",U(v.status)]),style:ht({width:`${D.value}%`})},null,6)]),a("div",Zo,[v.imported_files>0?(o(),L("span",er,[n(N,{name:"i-lucide-check",class:"w-3 h-3 inline text-green-500"}),V(" : "+B(v.imported_files),1)])):O("",!0),v.skipped_files>0?(o(),L("span",tr,[n(N,{name:"i-lucide-skip-forward",class:"w-3 h-3 inline text-yellow-500"}),V(" : "+B(v.skipped_files),1)])):O("",!0),v.failed_files>0?(o(),L("span",ar,[n(N,{name:"i-lucide-x",class:"w-3 h-3 inline text-red-500"}),V(" : "+B(v.failed_files),1)])):O("",!0)]),v.current_file?(o(),L("p",lr," : "+B(x(v.current_file)),1)):O("",!0),v.error?(o(),L("p",sr," : "+B(v.error),1)):O("",!0)])):O("",!0)]),n(oe),a("div",ir,[p[20]||(p[20]=a("div",null,[a("p",{class:"font-medium"},""),a("p",{class:"text-sm text-muted"},"")],-1)),n(P,{size:"sm",variant:"outline",onClick:p[1]||(p[1]=T=>s.value=!0)},{default:d(()=>[n(N,{name:"i-lucide-settings-2",class:"w-4 h-4 mr-1"}),p[19]||(p[19]=V("  ",-1))]),_:1})])])]),_:1}),n(ce,null,{header:d(()=>[a("div",or,[n(N,{name:"i-lucide-puzzle",class:"w-5 h-5"}),p[21]||(p[21]=a("span",{class:"text-lg font-semibold"},"",-1))])]),default:d(()=>[a("div",rr,[a("div",nr,[a("div",null,[p[22]||(p[22]=a("p",{class:"font-medium"},"",-1)),a("p",ur," "+B(X.value)+" ",1)]),n(P,{size:"sm",variant:"outline",onClick:p[2]||(p[2]=T=>i.value=!0)},{default:d(()=>[n(N,{name:"i-lucide-puzzle",class:"w-4 h-4 mr-1"}),p[23]||(p[23]=V("  ",-1))]),_:1})]),n(oe),a("div",dr,[a("div",null,[p[24]||(p[24]=a("p",{class:"font-medium"},"API ",-1)),a("p",cr," "+B(Z.value)+" ",1)]),n(P,{size:"sm",variant:"outline",onClick:p[3]||(p[3]=T=>f.value=!0)},{default:d(()=>[n(N,{name:"i-lucide-key",class:"w-4 h-4 mr-1"}),p[25]||(p[25]=V("  ",-1))]),_:1})])])]),_:1}),n(ce,null,{header:d(()=>[a("div",pr,[n(N,{name:"i-lucide-info",class:"w-5 h-5"}),p[26]||(p[26]=a("span",{class:"text-lg font-semibold"},"",-1))])]),default:d(()=>{var T;return[a("div",fr,[a("div",vr,[a("div",null,[p[27]||(p[27]=a("p",{class:"font-medium"},"",-1)),a("p",mr,B(J.value.version||""),1)]),J.value.version?(o(),q($e,{key:0,color:"primary",variant:"subtle"},{default:d(()=>[V(B(J.value.version),1)]),_:1})):O("",!0)]),n(oe),a("div",gr,[a("div",null,[p[28]||(p[28]=a("p",{class:"font-medium"},"Git Commit",-1)),a("p",yr,B(((T=J.value.git_commit)==null?void 0:T.substring(0,8))||""),1)])]),n(oe),a("div",br,[a("div",null,[p[29]||(p[29]=a("p",{class:"font-medium"},"",-1)),a("p",hr,B(ne(J.value.build_time)),1)])]),n(oe),a("div",_r,[p[30]||(p[30]=a("div",null,[a("p",{class:"font-medium"},""),a("p",{class:"text-sm text-muted"},"")],-1)),n($e,{color:R.value===""?"success":"error",variant:"subtle"},{default:d(()=>[V(B(R.value),1)]),_:1},8,["color"])]),g.value?(o(),L(ge,{key:0},[n(oe),a("div",xr,[a("div",null,[p[31]||(p[31]=a("p",{class:"font-medium"},"",-1)),a("p",kr,B(_.value?"":""),1)]),n(P,{size:"sm",disabled:!_.value||h.value,loading:h.value,onClick:p[4]||(p[4]=W=>c.value=!0)},{default:d(()=>[n(N,{name:"i-lucide-arrow-up-circle",class:"w-4 h-4 mr-1"}),V(" "+B(_.value?"":""),1)]),_:1},8,["disabled","loading"])])],64)):O("",!0),n(oe),a("div",null,[n(Vo)]),n(oe),a("div",Cr,[p[33]||(p[33]=a("div",null,[a("p",{class:"font-medium"},"GitHub"),a("p",{class:"text-sm text-muted"},"")],-1)),n(P,{size:"sm",variant:"outline",as:"a",href:"https://github.com/mimusic-org/mimusic",target:"_blank",rel:"noopener noreferrer"},{default:d(()=>[n(N,{name:"i-lucide-github",class:"w-4 h-4 mr-1"}),p[32]||(p[32]=V("  ",-1))]),_:1})]),n(oe),a("div",wr,[p[35]||(p[35]=a("div",null,[a("p",{class:"font-medium"},""),a("p",{class:"text-sm text-muted"},"")],-1)),n(P,{size:"sm",color:"error",variant:"outline",onClick:ue},{default:d(()=>[n(N,{name:"i-lucide-log-out",class:"w-4 h-4 mr-1"}),p[34]||(p[34]=V("  ",-1))]),_:1})])])]}),_:1})]),n(F,{open:s.value,"onUpdate:open":p[6]||(p[6]=T=>s.value=T),title:"",description:"",ui:{width:"max-w-2xl"}},{body:d(()=>[n(li,{onClose:p[5]||(p[5]=T=>s.value=!1)})]),_:1},8,["open"]),n(F,{open:i.value,"onUpdate:open":p[8]||(p[8]=T=>i.value=T),title:"",description:"",ui:{width:"max-w-2xl"}},{body:d(()=>[n(Ii,{onClose:p[7]||(p[7]=T=>i.value=!1)})]),_:1},8,["open"]),n(F,{open:f.value,"onUpdate:open":p[10]||(p[10]=T=>f.value=T),title:"API ",description:" API ",ui:{width:"max-w-2xl"}},{body:d(()=>[n(Yi,{onClose:p[9]||(p[9]=T=>f.value=!1)})]),_:1},8,["open"]),n(F,{open:c.value,"onUpdate:open":p[12]||(p[12]=T=>c.value=T),title:"",description:"",ui:{width:"max-w-2xl"}},{body:d(()=>[n(Bo,{onClose:p[11]||(p[11]=T=>c.value=!1),onUpgraded:le})]),_:1},8,["open"])])}}});export{Mr as default};
