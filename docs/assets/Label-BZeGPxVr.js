import{d as _,b7 as j,a$ as P,o as H,a8 as K,h as y,m as M,w as z,b as N,v as p,P as L,q as V,f as E,a1 as U,a0 as O,M as C,V as G,bj as Z,c as A,l as J,F as R,av as Q,Z as X,a3 as Y,bC as k,aF as ee}from"./index-DKusDIOD.js";import{i as te,g as se,w as ne,f as ie}from"./RovingFocusGroup-Csp7M4BH.js";var re=_({__name:"RovingFocusItem",props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(o){const l=o,e=te(),s=j(),t=E(()=>l.tabStopId||s),n=E(()=>e.currentTabStopId.value===t.value),{getItems:i,CollectionItem:r}=P();H(()=>{l.focusable&&e.onFocusableItemAdd()}),K(()=>{l.focusable&&e.onFocusableItemRemove()});function d(a){if(a.key==="Tab"&&a.shiftKey){e.onItemShiftTab();return}if(a.target!==a.currentTarget)return;const u=se(a,e.orientation.value,e.dir.value);if(u!==void 0){if(a.metaKey||a.ctrlKey||a.altKey||!l.allowShiftKey&&a.shiftKey)return;a.preventDefault();let c=[...i().map(h=>h.ref).filter(h=>h.dataset.disabled!=="")];if(u==="last")c.reverse();else if(u==="prev"||u==="next"){u==="prev"&&c.reverse();const h=c.indexOf(a.currentTarget);c=e.loop.value?ne(c,h+1):c.slice(h+1)}U(()=>ie(c))}}return(a,u)=>(y(),M(p(r),null,{default:z(()=>[N(p(L),{tabindex:n.value?0:-1,"data-orientation":p(e).orientation.value,"data-active":a.active?"":void 0,"data-disabled":a.focusable?void 0:"",as:a.as,"as-child":a.asChild,onMousedown:u[0]||(u[0]=c=>{a.focusable?p(e).onItemFocus(t.value):c.preventDefault()}),onFocus:u[1]||(u[1]=c=>p(e).onItemFocus(t.value)),onKeydown:d},{default:z(()=>[V(a.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),Ee=re,le=_({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(o){const l=o,{primitiveElement:e,currentElement:s}=Z(),t=E(()=>l.checked??l.value);return O(t,(n,i)=>{if(!s.value)return;const r=s.value,d=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(d,"value").set;if(u&&n!==i){const c=new Event("input",{bubbles:!0}),h=new Event("change",{bubbles:!0});u.call(r,n),r.dispatchEvent(c),r.dispatchEvent(h)}}),(n,i)=>(y(),M(G,C({ref_key:"primitiveElement",ref:e},{...l,...n.$attrs},{as:"input"}),null,16))}}),T=le,oe=_({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(o){const l=o,e=E(()=>typeof l.value=="object"&&Array.isArray(l.value)&&l.value.length===0&&l.required),s=E(()=>typeof l.value=="string"||typeof l.value=="number"||typeof l.value=="boolean"||l.value===null||l.value===void 0?[{name:l.name,value:l.value}]:typeof l.value=="object"&&Array.isArray(l.value)?l.value.flatMap((t,n)=>typeof t=="object"?Object.entries(t).map(([i,r])=>({name:`${l.name}[${n}][${i}]`,value:r})):{name:`${l.name}[${n}]`,value:t}):l.value!==null&&typeof l.value=="object"&&!Array.isArray(l.value)?Object.entries(l.value).map(([t,n])=>({name:`${l.name}[${t}]`,value:n})):[]);return(t,n)=>(y(),A(R,null,[J(" We render single input if it's required "),e.value?(y(),M(T,C({key:t.name},{...l,...t.$attrs},{name:t.name,value:t.value}),null,16,["name","value"])):(y(!0),A(R,{key:1},Q(s.value,i=>(y(),M(T,C({key:i.name},{ref_for:!0},{...l,...t.$attrs},{name:i.name,value:i.value}),null,16,["name","value"]))),128))],2112))}}),Ie=oe;function w(o,l,e){let s=e.initialDeps??[],t,n=!0;function i(){var r,d,a;let u;e.key&&((r=e.debug)!=null&&r.call(e))&&(u=Date.now());const c=o();if(!(c.length!==s.length||c.some((v,f)=>s[f]!==v)))return t;s=c;let m;if(e.key&&((d=e.debug)!=null&&d.call(e))&&(m=Date.now()),t=l(...c),e.key&&((a=e.debug)!=null&&a.call(e))){const v=Math.round((Date.now()-u)*100)/100,f=Math.round((Date.now()-m)*100)/100,S=f/16,I=(g,x)=>{for(g=String(g);g.length<x;)g=" "+g;return g};console.info(`%câ± ${I(f,5)} /${I(v,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*S,120))}deg 100% 31%);`,e==null?void 0:e.key)}return e!=null&&e.onChange&&!(n&&e.skipInitialOnChange)&&e.onChange(t),n=!1,t}return i.updateDeps=r=>{s=r},i}function q(o,l){if(o===void 0)throw new Error("Unexpected undefined");return o}const ae=(o,l)=>Math.abs(o-l)<1.01,ue=(o,l,e)=>{let s;return function(...t){o.clearTimeout(s),s=o.setTimeout(()=>l.apply(this,t),e)}},B=o=>{const{offsetWidth:l,offsetHeight:e}=o;return{width:l,height:e}},he=o=>o,de=o=>{const l=Math.max(o.startIndex-o.overscan,0),e=Math.min(o.endIndex+o.overscan,o.count-1),s=[];for(let t=l;t<=e;t++)s.push(t);return s},ce=(o,l)=>{const e=o.scrollElement;if(!e)return;const s=o.targetWindow;if(!s)return;const t=i=>{const{width:r,height:d}=i;l({width:Math.round(r),height:Math.round(d)})};if(t(B(e)),!s.ResizeObserver)return()=>{};const n=new s.ResizeObserver(i=>{const r=()=>{const d=i[0];if(d!=null&&d.borderBoxSize){const a=d.borderBoxSize[0];if(a){t({width:a.inlineSize,height:a.blockSize});return}}t(B(e))};o.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(r):r()});return n.observe(e,{box:"border-box"}),()=>{n.unobserve(e)}},D={passive:!0},W=typeof window>"u"?!0:"onscrollend"in window,fe=(o,l)=>{const e=o.scrollElement;if(!e)return;const s=o.targetWindow;if(!s)return;let t=0;const n=o.options.useScrollendEvent&&W?()=>{}:ue(s,()=>{l(t,!1)},o.options.isScrollingResetDelay),i=u=>()=>{const{horizontal:c,isRtl:h}=o.options;t=c?e.scrollLeft*(h&&-1||1):e.scrollTop,n(),l(t,u)},r=i(!0),d=i(!1);e.addEventListener("scroll",r,D);const a=o.options.useScrollendEvent&&W;return a&&e.addEventListener("scrollend",d,D),()=>{e.removeEventListener("scroll",r),a&&e.removeEventListener("scrollend",d)}},me=(o,l,e)=>{if(l!=null&&l.borderBoxSize){const s=l.borderBoxSize[0];if(s)return Math.round(s[e.options.horizontal?"inlineSize":"blockSize"])}return o[e.options.horizontal?"offsetWidth":"offsetHeight"]},pe=(o,{adjustments:l=0,behavior:e},s)=>{var t,n;const i=o+l;(n=(t=s.scrollElement)==null?void 0:t.scrollTo)==null||n.call(t,{[s.options.horizontal?"left":"top"]:i,behavior:e})};class ge{constructor(l){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const s=()=>e||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:e=new this.targetWindow.ResizeObserver(t=>{t.forEach(n=>{const i=()=>{this._measureElement(n.target,n)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()})}));return{disconnect:()=>{var t;(t=s())==null||t.disconnect(),e=null},observe:t=>{var n;return(n=s())==null?void 0:n.observe(t,{box:"border-box"})},unobserve:t=>{var n;return(n=s())==null?void 0:n.unobserve(t)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([s,t])=>{typeof t>"u"&&delete e[s]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:he,rangeExtractor:de,onChange:()=>{},measureElement:me,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var s,t;(t=(s=this.options).onChange)==null||t.call(s,this,e)},this.maybeNotify=w(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const s=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==s){if(this.cleanup(),!s){this.maybeNotify();return}this.scrollElement=s,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((e=this.scrollElement)==null?void 0:e.window)??null,this.elementsCache.forEach(t=>{this.observer.observe(t)}),this.unsubs.push(this.options.observeElementRect(this,t=>{this.scrollRect=t,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(t,n)=>{this.scrollAdjustments=0,this.scrollDirection=n?this.getScrollOffset()<t?"forward":"backward":null,this.scrollOffset=t,this.isScrolling=n,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,s)=>{const t=new Map,n=new Map;for(let i=s-1;i>=0;i--){const r=e[i];if(t.has(r.lane))continue;const d=n.get(r.lane);if(d==null||r.end>d.end?n.set(r.lane,r):r.end<d.end&&t.set(r.lane,!0),t.size===this.options.lanes)break}return n.size===this.options.lanes?Array.from(n.values()).sort((i,r)=>i.end===r.end?i.index-r.index:i.end-r.end)[0]:void 0},this.getMeasurementOptions=w(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(e,s,t,n,i,r)=>(this.prevLanes!==void 0&&this.prevLanes!==r&&(this.lanesChangedFlag=!0),this.prevLanes=r,this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:s,scrollMargin:t,getItemKey:n,enabled:i,lanes:r}),{key:!1}),this.getMeasurements=w(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:s,scrollMargin:t,getItemKey:n,enabled:i,lanes:r},d)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>e)for(const h of this.laneAssignments.keys())h>=e&&this.laneAssignments.delete(h);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(h=>{this.itemSizeCache.set(h.key,h.size)}));const a=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===e&&(this.lanesSettling=!1);const u=this.measurementsCache.slice(0,a),c=new Array(r).fill(void 0);for(let h=0;h<a;h++){const m=u[h];m&&(c[m.lane]=h)}for(let h=a;h<e;h++){const m=n(h),v=this.laneAssignments.get(h);let f,S;if(v!==void 0&&this.options.lanes>1){f=v;const b=c[f],F=b!==void 0?u[b]:void 0;S=F?F.end+this.options.gap:s+t}else{const b=this.options.lanes===1?u[h-1]:this.getFurthestMeasurement(u,h);S=b?b.end+this.options.gap:s+t,f=b?b.lane:h%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(h,f)}const I=d.get(m),g=typeof I=="number"?I:this.options.estimateSize(h),x=S+g;u[h]={index:h,start:S,size:g,end:x,key:m,lane:f},c[f]=h}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=w(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,s,t,n)=>this.range=e.length>0&&s>0?ve({measurements:e,outerSize:s,scrollOffset:t,lanes:n}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=w(()=>{let e=null,s=null;const t=this.calculateRange();return t&&(e=t.startIndex,s=t.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,s]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,s]},(e,s,t,n,i)=>n===null||i===null?[]:e({startIndex:n,endIndex:i,overscan:s,count:t}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const s=this.options.indexAttribute,t=e.getAttribute(s);return t?parseInt(t,10):(console.warn(`Missing attribute name '${s}={index}' on measured element.`),-1)},this._measureElement=(e,s)=>{const t=this.indexFromElement(e),n=this.measurementsCache[t];if(!n)return;const i=n.key,r=this.elementsCache.get(i);r!==e&&(r&&this.observer.unobserve(r),this.observer.observe(e),this.elementsCache.set(i,e)),e.isConnected&&this.resizeItem(t,this.options.measureElement(e,s,this))},this.resizeItem=(e,s)=>{const t=this.measurementsCache[e];if(!t)return;const n=this.itemSizeCache.get(t.key)??t.size,i=s-n;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(t,i,this):t.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(t.index),this.itemSizeCache=new Map(this.itemSizeCache.set(t.key,s)),this.notify(!1))},this.measureElement=e=>{if(!e){this.elementsCache.forEach((s,t)=>{s.isConnected||(this.observer.unobserve(s),this.elementsCache.delete(t))});return}this._measureElement(e,void 0)},this.getVirtualItems=w(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,s)=>{const t=[];for(let n=0,i=e.length;n<i;n++){const r=e[n],d=s[r];t.push(d)}return t},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const s=this.getMeasurements();if(s.length!==0)return q(s[$(0,s.length-1,t=>q(s[t]).start,e)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const e=this.scrollElement.document.documentElement;return this.options.horizontal?e.scrollWidth-this.scrollElement.innerWidth:e.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(e,s,t=0)=>{if(!this.scrollElement)return 0;const n=this.getSize(),i=this.getScrollOffset();s==="auto"&&(s=e>=i+n?"end":"start"),s==="center"?e+=(t-n)/2:s==="end"&&(e-=n);const r=this.getMaxScrollOffset();return Math.max(Math.min(r,e),0)},this.getOffsetForIndex=(e,s="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const t=this.measurementsCache[e];if(!t)return;const n=this.getSize(),i=this.getScrollOffset();if(s==="auto")if(t.end>=i+n-this.options.scrollPaddingEnd)s="end";else if(t.start<=i+this.options.scrollPaddingStart)s="start";else return[i,s];if(s==="end"&&e===this.options.count-1)return[this.getMaxScrollOffset(),s];const r=s==="end"?t.end+this.options.scrollPaddingEnd:t.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(r,s,t.size),s]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(e,{align:s="start",behavior:t}={})=>{t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,s),{adjustments:void 0,behavior:t})},this.scrollToIndex=(e,{align:s="auto",behavior:t}={})=>{t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),e=Math.max(0,Math.min(e,this.options.count-1)),this.currentScrollToIndex=e;let n=0;const i=10,r=a=>{if(!this.targetWindow)return;const u=this.getOffsetForIndex(e,a);if(!u){console.warn("Failed to get offset for index:",e);return}const[c,h]=u;this._scrollToOffset(c,{adjustments:void 0,behavior:t}),this.targetWindow.requestAnimationFrame(()=>{const m=()=>{if(this.currentScrollToIndex!==e)return;const v=this.getScrollOffset(),f=this.getOffsetForIndex(e,h);if(!f){console.warn("Failed to get offset for index:",e);return}ae(f[0],v)||d(h)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(m):m()})},d=a=>{this.targetWindow&&this.currentScrollToIndex===e&&(n++,n<i?this.targetWindow.requestAnimationFrame(()=>r(a)):console.warn(`Failed to scroll to index ${e} after ${i} attempts.`))};r(s)},this.scrollBy=(e,{behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:s})},this.getTotalSize=()=>{var e;const s=this.getMeasurements();let t;if(s.length===0)t=this.options.paddingStart;else if(this.options.lanes===1)t=((e=s[s.length-1])==null?void 0:e.end)??0;else{const n=Array(this.options.lanes).fill(null);let i=s.length-1;for(;i>=0&&n.some(r=>r===null);){const r=s[i];n[r.lane]===null&&(n[r.lane]=r.end),i--}t=Math.max(...n.filter(r=>r!==null))}return Math.max(t-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:s,behavior:t})=>{this.options.scrollToFn(e,{behavior:t,adjustments:s},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(l)}}const $=(o,l,e,s)=>{for(;o<=l;){const t=(o+l)/2|0,n=e(t);if(n<s)o=t+1;else if(n>s)l=t-1;else return t}return o>0?o-1:0};function ve({measurements:o,outerSize:l,scrollOffset:e,lanes:s}){const t=o.length-1,n=d=>o[d].start;if(o.length<=s)return{startIndex:0,endIndex:t};let i=$(0,t,n,e),r=i;if(s===1)for(;r<t&&o[r].end<e+l;)r++;else if(s>1){const d=Array(s).fill(0);for(;r<t&&d.some(u=>u<e+l);){const u=o[r];d[u.lane]=u.end,r++}const a=Array(s).fill(e+l);for(;i>=0&&a.some(u=>u>=e);){const u=o[i];a[u.lane]=u.start,i--}i=Math.max(0,i-i%s),r=Math.min(t,r+(s-1-r%s))}return{startIndex:i,endIndex:r}}function be(o){const l=new ge(p(o)),e=Y(l),s=l._didMount();return O(()=>p(o).getScrollElement(),t=>{t&&l._willUpdate()},{immediate:!0}),O(()=>p(o),t=>{l.setOptions({...t,onChange:(n,i)=>{var r;k(e),(r=t.onChange)==null||r.call(t,n,i)}}),l._willUpdate(),k(e)},{immediate:!0}),X(s),e}function Me(o){return be(E(()=>({observeElementRect:ce,observeElementOffset:fe,scrollToFn:pe,...p(o)})))}var ye=_({__name:"Label",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"label"}},setup(o){const l=o;return ee(),(e,s)=>(y(),M(p(L),C(l,{onMousedown:s[0]||(s[0]=t=>{!t.defaultPrevented&&t.detail>1&&t.preventDefault()})}),{default:z(()=>[V(e.$slots,"default")]),_:3},16))}}),Ce=ye;export{Ce as L,Ee as R,Ie as V,Me as u};
