import{d as de,aA as Pe,a0 as ue,l as P,w as o,f as J,an as ce,h as i,b as t,e as v,c as u,a as s,n as q,F as W,av as me,s as pe,t as x,_ as fe,r as p,p as ve,o as qe,j as Re,g as H,aB as Te,k as D,aw as Ae}from"./index-Cx4nsS82.js";import{_ as Be,a as Ie}from"./Pagination-Dc_fGGqR.js";import{_ as Ke}from"./Empty-DigEPBcq.js";import{_ as Le,a as Fe}from"./Checkbox-C-934CIS.js";import{a as De,_ as Ee}from"./Tooltip-zpZI2epg.js";import{_ as ye}from"./Badge-BKBTRCCv.js";import{a as _e,_ as Ne}from"./Input-B6mrkBYH.js";import{_ as Oe}from"./Select-BhDG758d.js";import{l as Ge,d as He,u as Je,a as We,b as Xe}from"./songs-DqWoLvVz.js";import{u as Ye}from"./player-DoT_OTUY.js";import{a as Ze,c as Qe,l as el}from"./playlists-BVI2tCg5.js";import"./Label-BAECE_S7.js";import"./RovingFocusGroup-psJ1Ognm.js";import"./useFormControl-CYTDve-I.js";import"./request-IGgxQWOk.js";const ll={key:0,class:"flex justify-center py-8"},tl={key:1,class:"space-y-2"},al={class:"w-10 h-10 rounded bg-primary/10 flex items-center justify-center"},ol={key:0,class:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg space-y-3"},sl={class:"flex gap-2"},nl=["onClick"],il={class:"w-10 h-10 rounded overflow-hidden bg-gray-100 dark:bg-gray-700 shrink-0"},rl=["src","alt"],dl={key:1,class:"w-full h-full flex items-center justify-center"},ul={class:"flex-1 min-w-0"},cl={class:"flex items-center gap-2"},ml={class:"font-medium truncate"},pl={class:"text-xs text-muted"},fl={key:1,class:"text-center py-8 text-muted"},vl=de({__name:"AddToPlaylistModal",props:{open:{type:Boolean},songIds:{}},emits:["update:open","success"],setup(le,{emit:E}){const B=Pe(),I=le,C=E,k=J({get:()=>I.open,set:m=>C("update:open",m)}),y=p(!1),R=p([]),V=p(!1),U=p(""),w=p(!1),r=p(null);ue(()=>I.open,async m=>{m&&(V.value=!1,U.value="",await T())});const T=async()=>{y.value=!0;try{const n=(await el()).data;R.value=n.playlists||n.data||[]}catch(m){console.error("加载歌单列表失败:",m)}finally{y.value=!1}},$=async()=>{if(U.value.trim()){w.value=!0;try{const n=(await Qe({name:U.value.trim(),type:"normal"})).data;await M(n.id,I.songIds),await T(),V.value=!1,U.value="",C("success"),j()}catch(m){console.error("创建歌单失败:",m),B.add({title:"创建歌单失败",color:"error"})}finally{w.value=!1}}},N=async m=>{r.value=m.id;try{(await M(m.id,I.songIds)).addedCount>0?(C("success"),j()):B.add({title:"所选歌曲已全部在此歌单中",color:"warning"})}catch(n){console.error("添加到歌单失败:",n),B.add({title:"添加到歌单失败",color:"error"})}finally{r.value=null}},M=async(m,n)=>{var d,K,L,c;let f=0,h=0;for(const F of n)try{await Ze(m,{song_id:F}),f++}catch(z){if(((d=z==null?void 0:z.response)==null?void 0:d.status)===500||(c=(L=(K=z==null?void 0:z.response)==null?void 0:K.data)==null?void 0:L.error)!=null&&c.includes("already exists")){h++;continue}throw z}return{addedCount:f,skippedCount:h}},j=()=>{C("update:open",!1)};return(m,n)=>{const f=fe,h=_e,d=ve,K=ye,L=ce;return i(),P(L,{open:k.value,"onUpdate:open":n[3]||(n[3]=c=>k.value=c),title:"添加到歌单",description:"选择要将歌曲添加到的歌单",ui:{width:"max-w-xl",body:"max-h-[60vh] overflow-y-auto"}},{body:o(()=>[y.value?(i(),u("div",ll,[t(f,{name:"i-lucide-loader-2",class:"w-8 h-8 animate-spin text-gray-400"})])):(i(),u("div",tl,[s("div",{class:"flex items-center gap-3 p-3 rounded-lg border border-dashed border-gray-300 dark:border-gray-600 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",onClick:n[0]||(n[0]=c=>V.value=!0)},[s("div",al,[t(f,{name:"i-lucide-plus",class:"w-5 h-5 text-primary"})]),n[4]||(n[4]=s("span",{class:"font-medium"},"创建新歌单",-1))]),V.value?(i(),u("div",ol,[t(h,{modelValue:U.value,"onUpdate:modelValue":n[1]||(n[1]=c=>U.value=c),placeholder:"歌单名称",class:"w-full"},null,8,["modelValue"]),s("div",sl,[t(d,{size:"sm",color:"primary",loading:w.value,disabled:!U.value.trim(),onClick:$},{default:o(()=>[...n[5]||(n[5]=[v(" 创建并添加 ",-1)])]),_:1},8,["loading","disabled"]),t(d,{size:"sm",variant:"ghost",onClick:n[2]||(n[2]=c=>V.value=!1)},{default:o(()=>[...n[6]||(n[6]=[v(" 取消 ",-1)])]),_:1})])])):q("",!0),(i(!0),u(W,null,me(R.value,c=>(i(),u("div",{key:c.id,class:pe(["flex items-center gap-3 p-3 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",{"opacity-50 pointer-events-none":r.value===c.id}]),onClick:F=>N(c)},[s("div",il,[c.cover_url?(i(),u("img",{key:0,src:c.cover_url,alt:c.name,class:"w-full h-full object-cover"},null,8,rl)):(i(),u("div",dl,[t(f,{name:"i-lucide-list-music",class:"w-5 h-5 text-gray-400"})]))]),s("div",ul,[s("div",cl,[s("span",ml,x(c.name),1),c.is_built_in?(i(),P(K,{key:0,color:"primary",size:"xs"},{default:o(()=>[...n[7]||(n[7]=[v("内置",-1)])]),_:1})):q("",!0)]),s("span",pl,x(c.type==="radio"?"电台":"普通歌单"),1)]),r.value===c.id?(i(),P(f,{key:0,name:"i-lucide-loader-2",class:"w-5 h-5 animate-spin text-primary"})):q("",!0)],10,nl))),128)),R.value.length===0&&!V.value?(i(),u("div",fl,[...n[8]||(n[8]=[s("p",null,"暂无歌单",-1),s("p",{class:"text-sm mt-1"},"点击上方创建新歌单",-1)])])):q("",!0)]))]),footer:o(()=>[t(d,{variant:"ghost",onClick:j},{default:o(()=>[...n[9]||(n[9]=[v("取消",-1)])]),_:1})]),_:1},8,["open"])}}}),yl={class:"space-y-6"},_l={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},gl={class:"text-sm text-muted mt-1"},xl={class:"flex gap-2 flex-wrap"},wl={class:"flex flex-col sm:flex-row gap-4 space-y-0"},hl={class:"flex-1 flex gap-2"},bl={class:"w-full sm:w-48"},kl={class:"hidden md:block"},Vl={key:1,class:"text-muted"},Ul={key:1,class:"text-muted"},Sl={class:"flex items-center gap-3"},$l={class:"w-10 h-10 rounded overflow-hidden bg-muted shrink-0"},Cl=["src","alt"],zl={key:1,class:"w-full h-full flex items-center justify-center"},jl={class:"min-w-0"},Ml={class:"font-medium truncate"},Pl={class:"text-sm text-muted truncate"},ql={class:"text-muted"},Rl={class:"flex justify-end gap-1"},Tl={class:"md:hidden divide-y divide-default"},Al={key:0,class:"p-8 text-center"},Bl={key:1,class:"p-8"},Il={key:0,class:"flex items-center gap-3 p-4 bg-muted/50"},Kl={class:"text-sm text-muted"},Ll=["onClick"],Fl={class:"w-12 h-12 rounded overflow-hidden bg-muted shrink-0"},Dl=["src","alt"],El={key:1,class:"w-full h-full flex items-center justify-center"},Nl={class:"flex-1 min-w-0"},Ol={class:"font-medium truncate"},Gl={class:"text-sm text-muted truncate"},Hl={class:"flex items-center gap-2 mt-1"},Jl={class:"text-xs text-muted"},Wl={key:0,class:"flex justify-center p-4 border-t border-default"},Xl={class:"flex justify-end gap-2"},Yl={class:"flex justify-end gap-2"},Zl={class:"flex justify-end gap-2"},ft=de({__name:"index",setup(le){const E=Re(),B=Ye(),{confirmDanger:I}=Ae(),C=p(!1),k=p(!1),y=p([]),R=p(0),V=p(""),U=p("all"),w=p(!1),r=p(new Set),T=p(!1),$=H({limit:20,offset:0}),N=J({get:()=>Math.floor($.offset/$.limit)+1,set:a=>{$.offset=(a-1)*$.limit}}),M=p(!1),j=p(!1),m=p(!1),n=p(null),f=H({url:"",title:"",artist:"",album:""}),h=H({url:"",title:"",cover_url:""}),d=H({title:"",artist:"",album:"",url:"",cover_url:""}),K=[{value:"all",label:"全部类型"},{value:"local",label:"本地歌曲"},{value:"remote",label:"网络歌曲"},{value:"radio",label:"电台"}],L=[{id:"index",accessorKey:"id",header:"#",class:"w-12"},{id:"title",accessorKey:"title",header:"歌曲"},{id:"album",accessorKey:"album",header:"专辑",class:"hidden lg:table-cell"},{id:"type",accessorKey:"type",header:"类型",class:"w-24"},{id:"duration",accessorKey:"duration",header:"时长",class:"w-20"},{id:"actions",accessorKey:"id",header:"",class:"w-24"}],c=a=>{switch(a){case"local":return"primary";case"remote":return"info";case"radio":return"warning";default:return"neutral"}},F=a=>{switch(a){case"local":return"本地";case"remote":return"网络";case"radio":return"电台";default:return a}},z=a=>{if(!a||a<=0)return"-";const e=Math.floor(a/60),_=Math.floor(a%60);return`${e}:${_.toString().padStart(2,"0")}`},te=a=>{const e=[[{label:"播放",icon:"i-lucide-play",onSelect:()=>Z(a)},{label:"添加到播放列表",icon:"i-lucide-list-plus",onSelect:()=>be(a)},{label:"加入歌单",icon:"i-lucide-plus",onSelect:()=>{r.value=new Set([a.id]),T.value=!0}}]];return(a.type==="remote"||a.type==="radio")&&e[0].push({label:"编辑",icon:"i-lucide-edit",onSelect:()=>we(a)}),e.push([{label:"删除",icon:"i-lucide-trash-2",color:"error",onSelect:()=>Se(a)}]),e},ge=()=>{w.value=!0,r.value=new Set},ae=()=>{w.value=!1,r.value=new Set},X=a=>{const e=new Set(r.value);e.has(a)?e.delete(a):e.add(a),r.value=e},Y=J(()=>y.value.length===0?!1:y.value.every(a=>r.value.has(a.id))),oe=J(()=>{if(y.value.length===0)return!1;const a=y.value.filter(e=>r.value.has(e.id)).length;return a>0&&a<y.value.length}),se=()=>{if(Y.value){const a=new Set(r.value);y.value.forEach(e=>a.delete(e.id)),r.value=a}else{const a=new Set(r.value);y.value.forEach(e=>a.add(e.id)),r.value=a}},xe=()=>{ae()},we=a=>{n.value=a,d.title=a.title,d.artist=a.artist||"",d.album=a.album||"",d.url=a.url,d.cover_url=a.cover_url||"",m.value=!0},he=async()=>{if(n.value){k.value=!0;try{await Je(n.value.id,d),m.value=!1,n.value=null,A()}catch(a){console.error("编辑歌曲失败:",a)}finally{k.value=!1}}},Z=a=>{B.playSong(a)},be=a=>{B.playSong(a,!0)},A=async()=>{C.value=!0;try{const a={limit:$.limit,offset:$.offset};V.value&&(a.keyword=V.value),U.value!=="all"&&(a.type=U.value);const _=(await Ge(a)).data;y.value=_.songs||_.data||[],R.value=_.total||0}catch(a){console.error("加载歌曲列表失败:",a)}finally{C.value=!1}},O=()=>{$.offset=0,A()},ke=()=>{A()},Ve=async()=>{k.value=!0;try{await We(f),M.value=!1,Object.assign(f,{url:"",title:"",artist:"",album:""}),A()}catch(a){console.error("添加网络歌曲失败:",a)}finally{k.value=!1}},Ue=async()=>{k.value=!0;try{await Xe(h),j.value=!1,Object.assign(h,{url:"",title:"",cover_url:""}),A()}catch(a){console.error("添加电台失败:",a)}finally{k.value=!1}},Se=async a=>{if(await I(`确定要删除「${a.title}」吗？`))try{await He(a.id),A()}catch(_){console.error("删除歌曲失败:",_)}};return ue(()=>E.query.q,a=>{a&&typeof a=="string"&&(V.value=a,O())},{immediate:!0}),qe(()=>{E.query.q||A()}),(a,e)=>{const _=fe,g=ve,b=_e,$e=Oe,ne=Ne,G=Fe,ie=ye,Ce=De,re=Ee,ze=Le,je=Ke,Me=Be,S=Ie,Q=ce;return i(),u("div",yl,[s("div",_l,[s("div",null,[e[27]||(e[27]=s("h1",{class:"text-2xl md:text-3xl font-bold"},"歌曲库",-1)),s("p",gl,"共 "+x(R.value)+" 首歌曲",1)]),s("div",xl,[w.value?(i(),u(W,{key:1},[t(g,{size:"sm",color:"neutral",variant:"ghost",onClick:ae},{default:o(()=>[...e[29]||(e[29]=[v(" 取消 ",-1)])]),_:1}),t(g,{size:"sm",color:"primary",disabled:r.value.size===0,onClick:e[0]||(e[0]=l=>T.value=!0)},{default:o(()=>[t(_,{name:"i-lucide-plus",class:"w-4 h-4 mr-1"}),v(" 加入歌单 ("+x(r.value.size)+") ",1)]),_:1},8,["disabled"])],64)):(i(),P(g,{key:0,size:"sm",color:"neutral",variant:"outline",onClick:ge},{default:o(()=>[t(_,{name:"i-lucide-check-square",class:"w-4 h-4 mr-1"}),e[28]||(e[28]=v(" 多选 ",-1))]),_:1})),t(g,{size:"sm",onClick:e[1]||(e[1]=l=>M.value=!0)},{default:o(()=>[t(_,{name:"i-lucide-plus",class:"w-4 h-4 mr-1"}),e[30]||(e[30]=v(" 添加网络歌曲 ",-1))]),_:1}),t(g,{size:"sm",onClick:e[2]||(e[2]=l=>j.value=!0)},{default:o(()=>[t(_,{name:"i-lucide-radio",class:"w-4 h-4 mr-1"}),e[31]||(e[31]=v(" 添加电台 ",-1))]),_:1})])]),t(ne,null,{default:o(()=>[s("div",wl,[s("div",hl,[t(b,{modelValue:V.value,"onUpdate:modelValue":e[3]||(e[3]=l=>V.value=l),placeholder:"搜索歌曲标题、艺术家、专辑...",class:"flex-1",onKeyup:Te(O,["enter"])},{leading:o(()=>[t(_,{name:"i-lucide-search",class:"w-4 h-4 text-muted"})]),_:1},8,["modelValue"]),t(g,{size:"sm",onClick:O},{default:o(()=>[...e[32]||(e[32]=[v(" 搜索 ",-1)])]),_:1})]),s("div",bl,[t($e,{modelValue:U.value,"onUpdate:modelValue":e[4]||(e[4]=l=>U.value=l),items:K,"value-key":"value",onChange:O},null,8,["modelValue"])])])]),_:1}),t(ne,{ui:{body:"p-0"}},{default:o(()=>[s("div",kl,[t(ze,{data:y.value,loading:C.value,columns:L},{"index-cell":o(({row:l})=>[w.value?(i(),P(G,{key:0,"model-value":r.value.has(l.original.id),"onUpdate:modelValue":ee=>X(l.original.id)},null,8,["model-value","onUpdate:modelValue"])):(i(),u("span",Vl,x(l.index+$.offset+1),1))]),"index-header":o(()=>[w.value?(i(),P(G,{key:0,"model-value":Y.value,indeterminate:oe.value,"onUpdate:modelValue":se},null,8,["model-value","indeterminate"])):(i(),u("span",Ul,"#"))]),"title-cell":o(({row:l})=>[s("div",Sl,[s("div",$l,[l.original.cover_url?(i(),u("img",{key:0,src:l.original.cover_url,alt:l.original.title,class:"w-full h-full object-cover"},null,8,Cl)):(i(),u("div",zl,[t(_,{name:"i-lucide-music",class:"w-5 h-5 text-muted"})]))]),s("div",jl,[s("p",Ml,x(l.original.title),1),s("p",Pl,x(l.original.artist||"未知艺术家"),1)])])]),"type-cell":o(({row:l})=>[t(ie,{color:c(l.original.type),variant:"subtle"},{default:o(()=>[v(x(F(l.original.type)),1)]),_:2},1032,["color"])]),"duration-cell":o(({row:l})=>[s("span",ql,x(z(l.original.duration)),1)]),"actions-cell":o(({row:l})=>[s("div",Rl,[t(Ce,{text:"播放"},{default:o(()=>[t(g,{icon:"i-lucide-play",size:"sm",color:"neutral",variant:"ghost",onClick:ee=>Z(l.original)},null,8,["onClick"])]),_:2},1024),t(re,{items:te(l.original)},{default:o(()=>[t(g,{icon:"i-lucide-more-horizontal",size:"sm",color:"neutral",variant:"ghost"})]),_:1},8,["items"])])]),_:1},8,["data","loading"])]),s("div",Tl,[C.value?(i(),u("div",Al,[t(_,{name:"i-lucide-loader-2",class:"w-8 h-8 animate-spin mx-auto text-muted"})])):y.value.length===0?(i(),u("div",Bl,[t(je,{icon:"i-lucide-music",title:"暂无歌曲"})])):(i(),u(W,{key:2},[w.value?(i(),u("div",Il,[t(G,{"model-value":Y.value,indeterminate:oe.value,"onUpdate:modelValue":se},null,8,["model-value","indeterminate"]),s("span",Kl,x(r.value.size>0?`已选择 ${r.value.size} 首`:"全选"),1)])):q("",!0),(i(!0),u(W,null,me(y.value,l=>(i(),u("div",{key:l.id,class:pe(["flex items-center gap-3 p-4 hover:bg-muted/50 transition-colors",{"bg-primary/5":r.value.has(l.id)}]),onClick:ee=>w.value?X(l.id):Z(l)},[w.value?(i(),P(G,{key:0,"model-value":r.value.has(l.id),"onUpdate:modelValue":ee=>X(l.id),onClick:e[5]||(e[5]=D(()=>{},["stop"]))},null,8,["model-value","onUpdate:modelValue"])):q("",!0),s("div",Fl,[l.cover_url?(i(),u("img",{key:0,src:l.cover_url,alt:l.title,class:"w-full h-full object-cover"},null,8,Dl)):(i(),u("div",El,[t(_,{name:"i-lucide-music",class:"w-6 h-6 text-muted"})]))]),s("div",Nl,[s("h3",Ol,x(l.title),1),s("p",Gl,x(l.artist||"未知艺术家"),1),s("div",Hl,[t(ie,{color:c(l.type),size:"xs",variant:"subtle"},{default:o(()=>[v(x(F(l.type)),1)]),_:2},1032,["color"]),s("span",Jl,x(z(l.duration)),1)])]),w.value?q("",!0):(i(),P(re,{key:1,items:te(l)},{default:o(()=>[t(g,{icon:"i-lucide-more-vertical",size:"sm",color:"neutral",variant:"ghost",onClick:e[6]||(e[6]=D(()=>{},["stop"]))})]),_:1},8,["items"]))],10,Ll))),128))],64))]),!C.value&&y.value.length>0?(i(),u("div",Wl,[t(Me,{page:N.value,"onUpdate:page":[e[7]||(e[7]=l=>N.value=l),ke],total:R.value,"items-per-page":$.limit},null,8,["page","total","items-per-page"])])):q("",!0)]),_:1}),t(Q,{open:M.value,"onUpdate:open":e[13]||(e[13]=l=>M.value=l),title:"添加网络歌曲",description:"添加网络音乐文件到歌曲库",ui:{width:"max-w-xl"}},{body:o(()=>[s("form",{id:"remote-song-form",class:"space-y-4",onSubmit:D(Ve,["prevent"])},[t(S,{label:"歌曲 URL",required:""},{default:o(()=>[t(b,{modelValue:f.url,"onUpdate:modelValue":e[8]||(e[8]=l=>f.url=l),type:"url",placeholder:"https://example.com/song.mp3",class:"w-full",required:""},null,8,["modelValue"])]),_:1}),t(S,{label:"标题",required:""},{default:o(()=>[t(b,{modelValue:f.title,"onUpdate:modelValue":e[9]||(e[9]=l=>f.title=l),type:"text",placeholder:"歌曲标题",class:"w-full",required:""},null,8,["modelValue"])]),_:1}),t(S,{label:"艺术家"},{default:o(()=>[t(b,{modelValue:f.artist,"onUpdate:modelValue":e[10]||(e[10]=l=>f.artist=l),type:"text",placeholder:"艺术家名称",class:"w-full"},null,8,["modelValue"])]),_:1}),t(S,{label:"专辑"},{default:o(()=>[t(b,{modelValue:f.album,"onUpdate:modelValue":e[11]||(e[11]=l=>f.album=l),type:"text",placeholder:"专辑名称",class:"w-full"},null,8,["modelValue"])]),_:1})],32)]),footer:o(()=>[s("div",Xl,[t(g,{color:"neutral",variant:"ghost",onClick:e[12]||(e[12]=l=>M.value=!1)},{default:o(()=>[...e[33]||(e[33]=[v(" 取消 ",-1)])]),_:1}),t(g,{type:"submit",form:"remote-song-form",loading:k.value},{default:o(()=>[...e[34]||(e[34]=[v(" 添加 ",-1)])]),_:1},8,["loading"])])]),_:1},8,["open"]),t(Q,{open:j.value,"onUpdate:open":e[18]||(e[18]=l=>j.value=l),title:"添加电台",description:"添加网络电台流到歌曲库",ui:{width:"max-w-xl"}},{body:o(()=>[s("form",{id:"radio-form",class:"space-y-4",onSubmit:D(Ue,["prevent"])},[t(S,{label:"电台流 URL",required:""},{default:o(()=>[t(b,{modelValue:h.url,"onUpdate:modelValue":e[14]||(e[14]=l=>h.url=l),type:"url",placeholder:"https://example.com/radio.m3u8",class:"w-full",required:""},null,8,["modelValue"])]),_:1}),t(S,{label:"电台名称",required:""},{default:o(()=>[t(b,{modelValue:h.title,"onUpdate:modelValue":e[15]||(e[15]=l=>h.title=l),type:"text",placeholder:"电台名称",class:"w-full",required:""},null,8,["modelValue"])]),_:1}),t(S,{label:"封面 URL"},{default:o(()=>[t(b,{modelValue:h.cover_url,"onUpdate:modelValue":e[16]||(e[16]=l=>h.cover_url=l),type:"url",placeholder:"https://example.com/cover.jpg",class:"w-full"},null,8,["modelValue"])]),_:1})],32)]),footer:o(()=>[s("div",Yl,[t(g,{color:"neutral",variant:"ghost",onClick:e[17]||(e[17]=l=>j.value=!1)},{default:o(()=>[...e[35]||(e[35]=[v(" 取消 ",-1)])]),_:1}),t(g,{type:"submit",form:"radio-form",loading:k.value},{default:o(()=>[...e[36]||(e[36]=[v(" 添加 ",-1)])]),_:1},8,["loading"])])]),_:1},8,["open"]),t(vl,{open:T.value,"onUpdate:open":e[19]||(e[19]=l=>T.value=l),"song-ids":Array.from(r.value),onSuccess:xe},null,8,["open","song-ids"]),t(Q,{open:m.value,"onUpdate:open":e[26]||(e[26]=l=>m.value=l),title:"编辑歌曲",description:"编辑歌曲或电台信息",ui:{width:"max-w-xl"}},{body:o(()=>[s("form",{id:"edit-song-form",class:"space-y-4",onSubmit:D(he,["prevent"])},[t(S,{label:"标题",required:""},{default:o(()=>[t(b,{modelValue:d.title,"onUpdate:modelValue":e[20]||(e[20]=l=>d.title=l),type:"text",placeholder:"歌曲标题",class:"w-full",required:""},null,8,["modelValue"])]),_:1}),t(S,{label:"URL",required:""},{default:o(()=>[t(b,{modelValue:d.url,"onUpdate:modelValue":e[21]||(e[21]=l=>d.url=l),type:"url",placeholder:"歌曲或电台流 URL",class:"w-full",required:""},null,8,["modelValue"])]),_:1}),t(S,{label:"艺术家"},{default:o(()=>[t(b,{modelValue:d.artist,"onUpdate:modelValue":e[22]||(e[22]=l=>d.artist=l),type:"text",placeholder:"艺术家名称",class:"w-full"},null,8,["modelValue"])]),_:1}),t(S,{label:"专辑"},{default:o(()=>[t(b,{modelValue:d.album,"onUpdate:modelValue":e[23]||(e[23]=l=>d.album=l),type:"text",placeholder:"专辑名称",class:"w-full"},null,8,["modelValue"])]),_:1}),t(S,{label:"封面 URL"},{default:o(()=>[t(b,{modelValue:d.cover_url,"onUpdate:modelValue":e[24]||(e[24]=l=>d.cover_url=l),type:"url",placeholder:"封面图片 URL",class:"w-full"},null,8,["modelValue"])]),_:1})],32)]),footer:o(()=>[s("div",Zl,[t(g,{color:"neutral",variant:"ghost",onClick:e[25]||(e[25]=l=>m.value=!1)},{default:o(()=>[...e[37]||(e[37]=[v(" 取消 ",-1)])]),_:1}),t(g,{type:"submit",form:"edit-song-form",loading:k.value},{default:o(()=>[...e[38]||(e[38]=[v(" 保存 ",-1)])]),_:1},8,["loading"])])]),_:1},8,["open"])])}}});export{ft as default};
