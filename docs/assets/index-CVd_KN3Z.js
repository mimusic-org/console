import{h as F,l as ue,w as et,q as fe,s as ct,v as yt,P as de,f as ut,x as Tt,y as pe,o as $t,W as me,a0 as Pt,ay as se,a3 as re,A as Te,ap as Pe,C as Ae,a as k,c as N,U as At,av as Ot,L as Mt,b as R,p as zt,n as ft,az as vt,r as it,d as Oe,t as mt,e as Et,_ as De,ax as qe}from"./index-oVUmxvzP.js";import{_ as Ce}from"./Empty-G20NCvmi.js";import{l as Be}from"./songs-CSIUqwzn.js";import{l as Fe}from"./playlists-H1MLTotg.js";import{l as je}from"./plugins-sAFHUcR4.js";import{u as Ne}from"./player-La6pozTU.js";import{u as Me}from"./request-C_Cw0Cd4.js";const ze={base:"animate-pulse rounded-md bg-elevated"},Ve={__name:"Skeleton",props:{as:{type:null,required:!1},class:{type:null,required:!1}},setup(t){const n=t,r=pe(),e=ut(()=>{var i;return Tt({extend:Tt(ze),...((i=r.ui)==null?void 0:i.skeleton)||{}})});return(i,s)=>(F(),ue(yt(de),{as:t.as,"aria-busy":"true","aria-label":"loading","aria-live":"polite",role:"alert",class:ct(e.value({class:n.class}))},{default:et(()=>[fe(i.$slots,"default")]),_:3},8,["as","class"]))}};function Re(t){return Object.prototype.toString.call(t)==="[object Object]"}function ie(t){return Re(t)||Array.isArray(t)}function $e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Gt(t,n){const r=Object.keys(t),e=Object.keys(n);if(r.length!==e.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),s=JSON.stringify(Object.keys(n.breakpoints||{}));return i!==s?!1:r.every(o=>{const l=t[o],a=n[o];return typeof l=="function"?`${l}`==`${a}`:!ie(l)||!ie(a)?l===a:Gt(l,a)})}function ae(t){return t.concat().sort((n,r)=>n.name>r.name?1:-1).map(n=>n.options)}function Ge(t,n){if(t.length!==n.length)return!1;const r=ae(t),e=ae(n);return r.every((i,s)=>{const o=e[s];return Gt(i,o)})}function Ht(t){return typeof t=="number"}function Vt(t){return typeof t=="string"}function qt(t){return typeof t=="boolean"}function le(t){return Object.prototype.toString.call(t)==="[object Object]"}function B(t){return Math.abs(t)}function Ut(t){return Math.sign(t)}function St(t,n){return B(t-n)}function He(t,n){if(t===0||n===0||B(t)<=B(n))return 0;const r=St(B(t),B(n));return B(r/t)}function Ue(t){return Math.round(t*100)/100}function wt(t){return _t(t).map(Number)}function W(t){return t[kt(t)]}function kt(t){return Math.max(0,t.length-1)}function Kt(t,n){return n===kt(t)}function ce(t,n=0){return Array.from(Array(t),(r,e)=>n+e)}function _t(t){return Object.keys(t)}function ge(t,n){return[t,n].reduce((r,e)=>(_t(e).forEach(i=>{const s=r[i],o=e[i],l=le(s)&&le(o);r[i]=l?ge(s,o):o}),r),{})}function Rt(t,n){return typeof n.MouseEvent<"u"&&t instanceof n.MouseEvent}function Ke(t,n){const r={start:e,center:i,end:s};function e(){return 0}function i(a){return s(a)/2}function s(a){return n-a}function o(a,c){return Vt(t)?r[t](a):t(n,a,c)}return{measure:o}}function It(){let t=[];function n(i,s,o,l={passive:!0}){let a;if("addEventListener"in i)i.addEventListener(s,o,l),a=()=>i.removeEventListener(s,o,l);else{const c=i;c.addListener(o),a=()=>c.removeListener(o)}return t.push(a),e}function r(){t=t.filter(i=>i())}const e={add:n,clear:r};return e}function Qe(t,n,r,e){const i=It(),s=1e3/60;let o=null,l=0,a=0;function c(){i.add(t,"visibilitychange",()=>{t.hidden&&f()})}function b(){v(),i.clear()}function d(y){if(!a)return;o||(o=y,r(),r());const p=y-o;for(o=y,l+=p;l>=s;)r(),l-=s;const m=l/s;e(m),a&&(a=n.requestAnimationFrame(d))}function u(){a||(a=n.requestAnimationFrame(d))}function v(){n.cancelAnimationFrame(a),o=null,l=0,a=0}function f(){o=null,l=0}return{init:c,destroy:b,start:u,stop:v,update:r,render:e}}function Je(t,n){const r=n==="rtl",e=t==="y",i=e?"y":"x",s=e?"x":"y",o=!e&&r?-1:1,l=b(),a=d();function c(f){const{height:g,width:y}=f;return e?g:y}function b(){return e?"top":r?"right":"left"}function d(){return e?"bottom":r?"left":"right"}function u(f){return f*o}return{scroll:i,cross:s,startEdge:l,endEdge:a,measureSize:c,direction:u}}function gt(t=0,n=0){const r=B(t-n);function e(c){return c<t}function i(c){return c>n}function s(c){return e(c)||i(c)}function o(c){return s(c)?e(c)?t:n:c}function l(c){return r?c-r*Math.ceil((c-n)/r):c}return{length:r,max:n,min:t,constrain:o,reachedAny:s,reachedMax:i,reachedMin:e,removeOffset:l}}function he(t,n,r){const{constrain:e}=gt(0,t),i=t+1;let s=o(n);function o(u){return r?B((i+u)%i):e(u)}function l(){return s}function a(u){return s=o(u),d}function c(u){return b().set(l()+u)}function b(){return he(t,l(),r)}const d={get:l,set:a,add:c,clone:b};return d}function Xe(t,n,r,e,i,s,o,l,a,c,b,d,u,v,f,g,y,p,m){const{cross:h,direction:I}=t,O=["INPUT","SELECT","TEXTAREA"],L={passive:!1},w=It(),_=It(),E=gt(50,225).constrain(v.measure(20)),D={mouse:300,touch:400},A={mouse:500,touch:600},M=f?43:25;let $=!1,K=0,x=0,T=!1,P=!1,G=!1,J=!1;function at(S){if(!m)return;function q(U){(qt(m)||m(S,U))&&H(U)}const j=n;w.add(j,"dragstart",U=>U.preventDefault(),L).add(j,"touchmove",()=>{},L).add(j,"touchend",()=>{}).add(j,"touchstart",q).add(j,"mousedown",q).add(j,"touchcancel",V).add(j,"contextmenu",V).add(j,"click",st,!0)}function Q(){w.clear(),_.clear()}function nt(){const S=J?r:n;_.add(S,"touchmove",z,L).add(S,"touchend",V).add(S,"mousemove",z,L).add(S,"mouseup",V)}function ot(S){const q=S.nodeName||"";return O.includes(q)}function X(){return(f?A:D)[J?"mouse":"touch"]}function Y(S,q){const j=d.add(Ut(S)*-1),U=b.byDistance(S,!f).distance;return f||B(S)<E?U:y&&q?U*.5:b.byIndex(j.get(),0).distance}function H(S){const q=Rt(S,e);J=q,G=f&&q&&!S.buttons&&$,$=St(i.get(),o.get())>=2,!(q&&S.button!==0)&&(ot(S.target)||(T=!0,s.pointerDown(S),c.useFriction(0).useDuration(0),i.set(o),nt(),K=s.readPoint(S),x=s.readPoint(S,h),u.emit("pointerDown")))}function z(S){if(!Rt(S,e)&&S.touches.length>=2)return V(S);const j=s.readPoint(S),U=s.readPoint(S,h),tt=St(j,K),rt=St(U,x);if(!P&&!J&&(!S.cancelable||(P=tt>rt,!P)))return V(S);const dt=s.pointerMove(S);tt>g&&(G=!0),c.useFriction(.3).useDuration(.75),l.start(),i.add(I(dt)),S.preventDefault()}function V(S){const j=b.byDistance(0,!1).index!==d.get(),U=s.pointerUp(S)*X(),tt=Y(I(U),j),rt=He(U,tt),dt=M-10*rt,lt=p+rt/50;P=!1,T=!1,_.clear(),c.useDuration(dt).useFriction(lt),a.distance(tt,!f),J=!1,u.emit("pointerUp")}function st(S){G&&(S.stopPropagation(),S.preventDefault(),G=!1)}function Z(){return T}return{init:at,destroy:Q,pointerDown:Z}}function Ye(t,n){let e,i;function s(d){return d.timeStamp}function o(d,u){const f=`client${(u||t.scroll)==="x"?"X":"Y"}`;return(Rt(d,n)?d:d.touches[0])[f]}function l(d){return e=d,i=d,o(d)}function a(d){const u=o(d)-o(i),v=s(d)-s(e)>170;return i=d,v&&(e=d),u}function c(d){if(!e||!i)return 0;const u=o(i)-o(e),v=s(d)-s(e),f=s(d)-s(i)>170,g=u/v;return v&&!f&&B(g)>.1?g:0}return{pointerDown:l,pointerMove:a,pointerUp:c,readPoint:o}}function Ze(){function t(r){const{offsetTop:e,offsetLeft:i,offsetWidth:s,offsetHeight:o}=r;return{top:e,right:i+s,bottom:e+o,left:i,width:s,height:o}}return{measure:t}}function We(t){function n(e){return t*(e/100)}return{measure:n}}function tn(t,n,r,e,i,s,o){const l=[t].concat(e);let a,c,b=[],d=!1;function u(y){return i.measureSize(o.measure(y))}function v(y){if(!s)return;c=u(t),b=e.map(u);function p(m){for(const h of m){if(d)return;const I=h.target===t,O=e.indexOf(h.target),L=I?c:b[O],w=u(I?t:e[O]);if(B(w-L)>=.5){y.reInit(),n.emit("resize");break}}}a=new ResizeObserver(m=>{(qt(s)||s(y,m))&&p(m)}),r.requestAnimationFrame(()=>{l.forEach(m=>a.observe(m))})}function f(){d=!0,a&&a.disconnect()}return{init:v,destroy:f}}function en(t,n,r,e,i,s){let o=0,l=0,a=i,c=s,b=t.get(),d=0;function u(){const L=e.get()-t.get(),w=!a;let _=0;return w?(o=0,r.set(e),t.set(e),_=L):(r.set(t),o+=L/a,o*=c,b+=o,t.add(o),_=b-d),l=Ut(_),d=b,O}function v(){const L=e.get()-n.get();return B(L)<.001}function f(){return a}function g(){return l}function y(){return o}function p(){return h(i)}function m(){return I(s)}function h(L){return a=L,O}function I(L){return c=L,O}const O={direction:g,duration:f,velocity:y,seek:u,settled:v,useBaseFriction:m,useBaseDuration:p,useFriction:I,useDuration:h};return O}function nn(t,n,r,e,i){const s=i.measure(10),o=i.measure(50),l=gt(.1,.99);let a=!1;function c(){return!(a||!t.reachedAny(r.get())||!t.reachedAny(n.get()))}function b(v){if(!c())return;const f=t.reachedMin(n.get())?"min":"max",g=B(t[f]-n.get()),y=r.get()-n.get(),p=l.constrain(g/o);r.subtract(y*p),!v&&B(y)<s&&(r.set(t.constrain(r.get())),e.useDuration(25).useBaseFriction())}function d(v){a=!v}return{shouldConstrain:c,constrain:b,toggleActive:d}}function on(t,n,r,e,i){const s=gt(-n+t,0),o=d(),l=b(),a=u();function c(f,g){return St(f,g)<=1}function b(){const f=o[0],g=W(o),y=o.lastIndexOf(f),p=o.indexOf(g)+1;return gt(y,p)}function d(){return r.map((f,g)=>{const{min:y,max:p}=s,m=s.constrain(f),h=!g,I=Kt(r,g);return h?p:I||c(y,m)?y:c(p,m)?p:m}).map(f=>parseFloat(f.toFixed(3)))}function u(){if(n<=t+i)return[s.max];if(e==="keepSnaps")return o;const{min:f,max:g}=l;return o.slice(f,g)}return{snapsContained:a,scrollContainLimit:l}}function sn(t,n,r){const e=n[0],i=r?e-t:W(n);return{limit:gt(i,e)}}function rn(t,n,r,e){const s=n.min+.1,o=n.max+.1,{reachedMin:l,reachedMax:a}=gt(s,o);function c(u){return u===1?a(r.get()):u===-1?l(r.get()):!1}function b(u){if(!c(u))return;const v=t*(u*-1);e.forEach(f=>f.add(v))}return{loop:b}}function an(t){const{max:n,length:r}=t;function e(s){const o=s-n;return r?o/-r:0}return{get:e}}function ln(t,n,r,e,i){const{startEdge:s,endEdge:o}=t,{groupSlides:l}=i,a=d().map(n.measure),c=u(),b=v();function d(){return l(e).map(g=>W(g)[o]-g[0][s]).map(B)}function u(){return e.map(g=>r[s]-g[s]).map(g=>-B(g))}function v(){return l(c).map(g=>g[0]).map((g,y)=>g+a[y])}return{snaps:c,snapsAligned:b}}function cn(t,n,r,e,i,s){const{groupSlides:o}=i,{min:l,max:a}=e,c=b();function b(){const u=o(s),v=!t||n==="keepSnaps";return r.length===1?[s]:v?u:u.slice(l,a).map((f,g,y)=>{const p=!g,m=Kt(y,g);if(p){const h=W(y[0])+1;return ce(h)}if(m){const h=kt(s)-W(y)[0]+1;return ce(h,W(y)[0])}return f})}return{slideRegistry:c}}function un(t,n,r,e,i){const{reachedAny:s,removeOffset:o,constrain:l}=e;function a(f){return f.concat().sort((g,y)=>B(g)-B(y))[0]}function c(f){const g=t?o(f):l(f),y=n.map((m,h)=>({diff:b(m-g,0),index:h})).sort((m,h)=>B(m.diff)-B(h.diff)),{index:p}=y[0];return{index:p,distance:g}}function b(f,g){const y=[f,f+r,f-r];if(!t)return f;if(!g)return a(y);const p=y.filter(m=>Ut(m)===g);return p.length?a(p):W(y)-r}function d(f,g){const y=n[f]-i.get(),p=b(y,g);return{index:f,distance:p}}function u(f,g){const y=i.get()+f,{index:p,distance:m}=c(y),h=!t&&s(y);if(!g||h)return{index:p,distance:f};const I=n[p]-m,O=f+b(I,0);return{index:p,distance:O}}return{byDistance:u,byIndex:d,shortcut:b}}function fn(t,n,r,e,i,s,o){function l(d){const u=d.distance,v=d.index!==n.get();s.add(u),u&&(e.duration()?t.start():(t.update(),t.render(1),t.update())),v&&(r.set(n.get()),n.set(d.index),o.emit("select"))}function a(d,u){const v=i.byDistance(d,u);l(v)}function c(d,u){const v=n.clone().set(d),f=i.byIndex(v.get(),u);l(f)}return{distance:a,index:c}}function dn(t,n,r,e,i,s,o,l){const a={passive:!0,capture:!0};let c=0;function b(v){if(!l)return;function f(g){if(new Date().getTime()-c>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const m=r.findIndex(h=>h.includes(g));Ht(m)&&(i.useDuration(0),e.index(m,0),o.emit("slideFocus"))}s.add(document,"keydown",d,!1),n.forEach((g,y)=>{s.add(g,"focus",p=>{(qt(l)||l(v,p))&&f(y)},a)})}function d(v){v.code==="Tab"&&(c=new Date().getTime())}return{init:b}}function xt(t){let n=t;function r(){return n}function e(a){n=o(a)}function i(a){n+=o(a)}function s(a){n-=o(a)}function o(a){return Ht(a)?a:a.get()}return{get:r,set:e,add:i,subtract:s}}function ve(t,n){const r=t.scroll==="x"?o:l,e=n.style;let i=null,s=!1;function o(u){return`translate3d(${u}px,0px,0px)`}function l(u){return`translate3d(0px,${u}px,0px)`}function a(u){if(s)return;const v=Ue(t.direction(u));v!==i&&(e.transform=r(v),i=v)}function c(u){s=!u}function b(){s||(e.transform="",n.getAttribute("style")||n.removeAttribute("style"))}return{clear:b,to:a,toggleActive:c}}function pn(t,n,r,e,i,s,o,l,a){const b=wt(i),d=wt(i).reverse(),u=p().concat(m());function v(w,_){return w.reduce((E,D)=>E-i[D],_)}function f(w,_){return w.reduce((E,D)=>v(E,_)>0?E.concat([D]):E,[])}function g(w){return s.map((_,E)=>({start:_-e[E]+.5+w,end:_+n-.5+w}))}function y(w,_,E){const D=g(_);return w.map(A=>{const M=E?0:-r,$=E?r:0,K=E?"end":"start",x=D[A][K];return{index:A,loopPoint:x,slideLocation:xt(-1),translate:ve(t,a[A]),target:()=>l.get()>x?M:$}})}function p(){const w=o[0],_=f(d,w);return y(_,r,!1)}function m(){const w=n-o[0]-1,_=f(b,w);return y(_,-r,!0)}function h(){return u.every(({index:w})=>{const _=b.filter(E=>E!==w);return v(_,n)<=.1})}function I(){u.forEach(w=>{const{target:_,translate:E,slideLocation:D}=w,A=_();A!==D.get()&&(E.to(A),D.set(A))})}function O(){u.forEach(w=>w.translate.clear())}return{canLoop:h,clear:O,loop:I,loopPoints:u}}function mn(t,n,r){let e,i=!1;function s(a){if(!r)return;function c(b){for(const d of b)if(d.type==="childList"){a.reInit(),n.emit("slidesChanged");break}}e=new MutationObserver(b=>{i||(qt(r)||r(a,b))&&c(b)}),e.observe(t,{childList:!0})}function o(){e&&e.disconnect(),i=!0}return{init:s,destroy:o}}function gn(t,n,r,e){const i={};let s=null,o=null,l,a=!1;function c(){l=new IntersectionObserver(f=>{a||(f.forEach(g=>{const y=n.indexOf(g.target);i[y]=g}),s=null,o=null,r.emit("slidesInView"))},{root:t.parentElement,threshold:e}),n.forEach(f=>l.observe(f))}function b(){l&&l.disconnect(),a=!0}function d(f){return _t(i).reduce((g,y)=>{const p=parseInt(y),{isIntersecting:m}=i[p];return(f&&m||!f&&!m)&&g.push(p),g},[])}function u(f=!0){if(f&&s)return s;if(!f&&o)return o;const g=d(f);return f&&(s=g),f||(o=g),g}return{init:c,destroy:b,get:u}}function hn(t,n,r,e,i,s){const{measureSize:o,startEdge:l,endEdge:a}=t,c=r[0]&&i,b=f(),d=g(),u=r.map(o),v=y();function f(){if(!c)return 0;const m=r[0];return B(n[l]-m[l])}function g(){if(!c)return 0;const m=s.getComputedStyle(W(e));return parseFloat(m.getPropertyValue(`margin-${a}`))}function y(){return r.map((m,h,I)=>{const O=!h,L=Kt(I,h);return O?u[h]+b:L?u[h]+d:I[h+1][l]-m[l]}).map(B)}return{slideSizes:u,slideSizesWithGaps:v,startGap:b,endGap:d}}function vn(t,n,r,e,i,s,o,l,a){const{startEdge:c,endEdge:b,direction:d}=t,u=Ht(r);function v(p,m){return wt(p).filter(h=>h%m===0).map(h=>p.slice(h,h+m))}function f(p){return p.length?wt(p).reduce((m,h,I)=>{const O=W(m)||0,L=O===0,w=h===kt(p),_=i[c]-s[O][c],E=i[c]-s[h][b],D=!e&&L?d(o):0,A=!e&&w?d(l):0,M=B(E-A-(_+D));return I&&M>n+a&&m.push(h),w&&m.push(p.length),m},[]).map((m,h,I)=>{const O=Math.max(I[h-1]||0);return p.slice(O,m)}):[]}function g(p){return u?v(p,r):f(p)}return{groupSlides:g}}function yn(t,n,r,e,i,s,o){const{align:l,axis:a,direction:c,startIndex:b,loop:d,duration:u,dragFree:v,dragThreshold:f,inViewThreshold:g,slidesToScroll:y,skipSnaps:p,containScroll:m,watchResize:h,watchSlides:I,watchDrag:O,watchFocus:L}=s,w=2,_=Ze(),E=_.measure(n),D=r.map(_.measure),A=Je(a,c),M=A.measureSize(E),$=We(M),K=Ke(l,M),x=!d&&!!m,T=d||!!m,{slideSizes:P,slideSizesWithGaps:G,startGap:J,endGap:at}=hn(A,E,D,r,T,i),Q=vn(A,M,y,d,E,D,J,at,w),{snaps:nt,snapsAligned:ot}=ln(A,K,E,D,Q),X=-W(nt)+W(G),{snapsContained:Y,scrollContainLimit:H}=on(M,X,ot,m,w),z=x?Y:ot,{limit:V}=sn(X,z,d),st=he(kt(z),b,d),Z=st.clone(),C=wt(r),S=({dragHandler:ht,scrollBody:jt,scrollBounds:Nt,options:{loop:Lt}})=>{Lt||Nt.constrain(ht.pointerDown()),jt.seek()},q=({scrollBody:ht,translate:jt,location:Nt,offsetLocation:Lt,previousLocation:xe,scrollLooper:Se,slideLooper:we,dragHandler:_e,animation:Ie,eventHandler:Zt,scrollBounds:ke,options:{loop:Wt}},te)=>{const ee=ht.settled(),Le=!ke.shouldConstrain(),ne=Wt?ee:ee&&Le,oe=ne&&!_e.pointerDown();oe&&Ie.stop();const Ee=Nt.get()*te+xe.get()*(1-te);Lt.set(Ee),Wt&&(Se.loop(ht.direction()),we.loop()),jt.to(Lt.get()),oe&&Zt.emit("settle"),ne||Zt.emit("scroll")},j=Qe(e,i,()=>S(Ft),ht=>q(Ft,ht)),U=.68,tt=z[st.get()],rt=xt(tt),dt=xt(tt),lt=xt(tt),pt=xt(tt),bt=en(rt,lt,dt,pt,u,U),Ct=un(d,z,X,V,pt),Bt=fn(j,st,Z,bt,Ct,pt,o),Jt=an(V),Xt=It(),ye=gn(n,r,o,g),{slideRegistry:Yt}=cn(x,m,z,H,Q,C),be=dn(t,r,Yt,Bt,bt,Xt,o,L),Ft={ownerDocument:e,ownerWindow:i,eventHandler:o,containerRect:E,slideRects:D,animation:j,axis:A,dragHandler:Xe(A,t,e,i,pt,Ye(A,i),rt,j,Bt,bt,Ct,st,o,$,v,f,p,U,O),eventStore:Xt,percentOfView:$,index:st,indexPrevious:Z,limit:V,location:rt,offsetLocation:lt,previousLocation:dt,options:s,resizeHandler:tn(n,o,i,r,A,h,_),scrollBody:bt,scrollBounds:nn(V,lt,pt,bt,$),scrollLooper:rn(X,V,lt,[rt,lt,dt,pt]),scrollProgress:Jt,scrollSnapList:z.map(Jt.get),scrollSnaps:z,scrollTarget:Ct,scrollTo:Bt,slideLooper:pn(A,M,X,P,G,nt,z,lt,r),slideFocus:be,slidesHandler:mn(n,o,I),slidesInView:ye,slideIndexes:C,slideRegistry:Yt,slidesToScroll:Q,target:pt,translate:ve(A,n)};return Ft}function bn(){let t={},n;function r(c){n=c}function e(c){return t[c]||[]}function i(c){return e(c).forEach(b=>b(n,c)),a}function s(c,b){return t[c]=e(c).concat([b]),a}function o(c,b){return t[c]=e(c).filter(d=>d!==b),a}function l(){t={}}const a={init:r,emit:i,off:o,on:s,clear:l};return a}const xn={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Sn(t){function n(s,o){return ge(s,o||{})}function r(s){const o=s.breakpoints||{},l=_t(o).filter(a=>t.matchMedia(a).matches).map(a=>o[a]).reduce((a,c)=>n(a,c),{});return n(s,l)}function e(s){return s.map(o=>_t(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(t.matchMedia)}return{mergeOptions:n,optionsAtMedia:r,optionsMediaQueries:e}}function wn(t){let n=[];function r(s,o){return n=o.filter(({options:l})=>t.optionsAtMedia(l).active!==!1),n.forEach(l=>l.init(s,t)),o.reduce((l,a)=>Object.assign(l,{[a.name]:a}),{})}function e(){n=n.filter(s=>s.destroy())}return{init:r,destroy:e}}function Dt(t,n,r){const e=t.ownerDocument,i=e.defaultView,s=Sn(i),o=wn(s),l=It(),a=bn(),{mergeOptions:c,optionsAtMedia:b,optionsMediaQueries:d}=s,{on:u,off:v,emit:f}=a,g=A;let y=!1,p,m=c(xn,Dt.globalOptions),h=c(m),I=[],O,L,w;function _(){const{container:C,slides:S}=h;L=(Vt(C)?t.querySelector(C):C)||t.children[0];const j=Vt(S)?L.querySelectorAll(S):S;w=[].slice.call(j||L.children)}function E(C){const S=yn(t,L,w,e,i,C,a);if(C.loop&&!S.slideLooper.canLoop()){const q=Object.assign({},C,{loop:!1});return E(q)}return S}function D(C,S){y||(m=c(m,C),h=b(m),I=S||I,_(),p=E(h),d([m,...I.map(({options:q})=>q)]).forEach(q=>l.add(q,"change",A)),h.active&&(p.translate.to(p.location.get()),p.animation.init(),p.slidesInView.init(),p.slideFocus.init(Z),p.eventHandler.init(Z),p.resizeHandler.init(Z),p.slidesHandler.init(Z),p.options.loop&&p.slideLooper.loop(),L.offsetParent&&w.length&&p.dragHandler.init(Z),O=o.init(Z,I)))}function A(C,S){const q=Q();M(),D(c({startIndex:q},C),S),a.emit("reInit")}function M(){p.dragHandler.destroy(),p.eventStore.clear(),p.translate.clear(),p.slideLooper.clear(),p.resizeHandler.destroy(),p.slidesHandler.destroy(),p.slidesInView.destroy(),p.animation.destroy(),o.destroy(),l.clear()}function $(){y||(y=!0,l.clear(),M(),a.emit("destroy"),a.clear())}function K(C,S,q){!h.active||y||(p.scrollBody.useBaseFriction().useDuration(S===!0?0:h.duration),p.scrollTo.index(C,q||0))}function x(C){const S=p.index.add(1).get();K(S,C,-1)}function T(C){const S=p.index.add(-1).get();K(S,C,1)}function P(){return p.index.add(1).get()!==Q()}function G(){return p.index.add(-1).get()!==Q()}function J(){return p.scrollSnapList}function at(){return p.scrollProgress.get(p.offsetLocation.get())}function Q(){return p.index.get()}function nt(){return p.indexPrevious.get()}function ot(){return p.slidesInView.get()}function X(){return p.slidesInView.get(!1)}function Y(){return O}function H(){return p}function z(){return t}function V(){return L}function st(){return w}const Z={canScrollNext:P,canScrollPrev:G,containerNode:V,internalEngine:H,destroy:$,off:v,on:u,emit:f,plugins:Y,previousScrollSnap:nt,reInit:g,rootNode:z,scrollNext:x,scrollPrev:T,scrollProgress:at,scrollSnapList:J,scrollTo:K,selectedScrollSnap:Q,slideNodes:st,slidesInView:ot,slidesNotInView:X};return D(n,r),setTimeout(()=>a.emit("init"),0),Z}Dt.globalOptions=void 0;function Qt(t={},n=[]){const r=se(t),e=se(n);let i=r?t.value:t,s=e?n.value:n;const o=re(),l=re();function a(){l.value&&l.value.reInit(i,s)}return $t(()=>{!$e()||!o.value||(Dt.globalOptions=Qt.globalOptions,l.value=Dt(o.value,i,s))}),me(()=>{l.value&&l.value.destroy()}),r&&Pt(t,c=>{Gt(i,c)||(i=c,a())}),e&&Pt(n,c=>{Ge(s,c)||(s=c,a())}),[o,l]}Qt.globalOptions=void 0;const _n={slots:{root:"relative focus:outline-none",viewport:"overflow-hidden",container:"flex items-start",item:"min-w-0 shrink-0 basis-full",controls:"",arrows:"",prev:"absolute rounded-full",next:"absolute rounded-full",dots:"absolute inset-x-0 -bottom-7 flex flex-wrap items-center justify-center gap-3",dot:["cursor-pointer size-3 bg-accented rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-primary","transition"]},variants:{orientation:{vertical:{container:"flex-col -mt-4",item:"pt-4",prev:"top-4 sm:-top-12 left-1/2 -translate-x-1/2 rotate-90 rtl:-rotate-90",next:"bottom-4 sm:-bottom-12 left-1/2 -translate-x-1/2 rotate-90 rtl:-rotate-90"},horizontal:{container:"flex-row -ms-4",item:"ps-4",prev:"start-4 sm:-start-12 top-1/2 -translate-y-1/2",next:"end-4 sm:-end-12 top-1/2 -translate-y-1/2"}},active:{true:{dot:"data-[state=active]:bg-inverted"}}}},In=["aria-label"],kn=["aria-label","aria-selected","data-state","onClick"],Ln={__name:"Carousel",props:{as:{type:null,required:!1},prev:{type:Object,required:!1},prevIcon:{type:null,required:!1},next:{type:Object,required:!1},nextIcon:{type:null,required:!1},arrows:{type:Boolean,required:!1,default:!1},dots:{type:Boolean,required:!1,default:!1},orientation:{type:null,required:!1,default:"horizontal"},items:{type:Array,required:!1},autoplay:{type:[Boolean,Object],required:!1,default:!1},autoScroll:{type:[Boolean,Object],required:!1,default:!1},autoHeight:{type:[Boolean,Object],required:!1,default:!1},classNames:{type:[Boolean,Object],required:!1,default:!1},fade:{type:[Boolean,Object],required:!1,default:!1},wheelGestures:{type:[Boolean,Object],required:!1,default:!1},class:{type:null,required:!1},ui:{type:null,required:!1},align:{type:[String,Function],required:!1,default:"center"},containScroll:{type:[Boolean,String],required:!1,default:"trimSnaps"},slidesToScroll:{type:[String,Number],required:!1,default:1},dragFree:{type:Boolean,required:!1,default:!1},dragThreshold:{type:Number,required:!1,default:10},inViewThreshold:{type:null,required:!1,default:0},loop:{type:Boolean,required:!1,default:!1},skipSnaps:{type:Boolean,required:!1,default:!1},duration:{type:Number,required:!1,default:25},startIndex:{type:Number,required:!1,default:0},watchDrag:{type:[Boolean,Function],required:!1,default:!0},watchResize:{type:[Boolean,Function],required:!1,default:!0},watchSlides:{type:[Boolean,Function],required:!1,default:!0},watchFocus:{type:[Boolean,Function],required:!1,default:!0},active:{type:Boolean,required:!1,default:!0},breakpoints:{type:Object,required:!1,default:()=>({})}},emits:["select"],setup(t,{expose:n,emit:r}){const e=t,i=r,{dir:s,t:o}=Te(),l=pe(),a=Pe(Ae(e,"active","align","breakpoints","containScroll","dragFree","dragThreshold","duration","inViewThreshold","loop","skipSnaps","slidesToScroll","startIndex","watchDrag","watchResize","watchSlides","watchFocus")),c=ut(()=>e.prevIcon||(s.value==="rtl"?l.ui.icons.arrowRight:l.ui.icons.arrowLeft)),b=ut(()=>e.nextIcon||(s.value==="rtl"?l.ui.icons.arrowLeft:l.ui.icons.arrowRight)),d=ut(()=>typeof e.autoplay=="boolean"?!0:e.autoplay.stopOnInteraction??!0),u=ut(()=>typeof e.autoScroll=="boolean"?!0:e.autoScroll.stopOnInteraction??!0),v=ut(()=>{var x;return Tt({extend:Tt(_n),...((x=l.ui)==null?void 0:x.carousel)||{}})({orientation:e.orientation})}),f=ut(()=>({...e.fade?{align:"center",containScroll:!1}:{},...a.value,axis:e.orientation==="horizontal"?"x":"y",direction:s.value==="rtl"?"rtl":"ltr"})),g=it([]);async function y(){const x=[];if(e.autoplay){const T=await vt(()=>import("./embla-carousel-autoplay.esm-Dtrtw0zj.js"),[]).then(P=>P.default);x.push(T(typeof e.autoplay=="boolean"?{}:e.autoplay))}if(e.autoScroll){const T=await vt(()=>import("./embla-carousel-auto-scroll.esm-LVG_eY9u.js"),[]).then(P=>P.default);x.push(T(typeof e.autoScroll=="boolean"?{}:e.autoScroll))}if(e.autoHeight){const T=await vt(()=>import("./embla-carousel-auto-height.esm-Ddyvc1_j.js"),[]).then(P=>P.default);x.push(T(typeof e.autoHeight=="boolean"?{}:e.autoHeight))}if(e.classNames){const T=await vt(()=>import("./embla-carousel-class-names.esm-mhJ-osCf.js"),[]).then(P=>P.default);x.push(T(typeof e.classNames=="boolean"?{}:e.classNames))}if(e.fade){const T=await vt(()=>import("./embla-carousel-fade.esm-wrqBHFeW.js"),[]).then(P=>P.default);x.push(T(typeof e.fade=="boolean"?{}:e.fade))}if(e.wheelGestures){const{WheelGesturesPlugin:T}=await vt(async()=>{const{WheelGesturesPlugin:P}=await import("./embla-carousel-wheel-gestures.esm-CAboK1pg.js");return{WheelGesturesPlugin:P}},[]);x.push(T(typeof e.wheelGestures=="boolean"?{}:e.wheelGestures))}g.value=x}Pt(()=>[e.autoplay,e.autoScroll,e.autoHeight,e.classNames,e.fade,e.wheelGestures],async()=>{var x;await y(),(x=m.value)==null||x.reInit(f.value,g.value)},{immediate:!0});const[p,m]=Qt(f,g);Pt(f,()=>{var x;(x=m.value)==null||x.reInit(f.value,g.value)},{flush:"post"});function h(){var x,T,P,G;d.value&&((T=(x=m.value)==null?void 0:x.plugins().autoplay)==null||T.stop()),u.value&&((G=(P=m.value)==null?void 0:P.plugins().autoScroll)==null||G.stop())}function I(){var x;(x=m.value)==null||x.scrollPrev(),h()}function O(){var x;(x=m.value)==null||x.scrollNext(),h()}function L(x){var T;(T=m.value)==null||T.scrollTo(x)}function w(x){let T,P;if(e.orientation==="horizontal"?(T=s.value==="ltr"?"ArrowLeft":"ArrowRight",P=s.value==="ltr"?"ArrowRight":"ArrowLeft"):(T="ArrowUp",P="ArrowDown"),x.key===T){x.preventDefault(),I();return}x.key===P&&(x.preventDefault(),O())}const _=it(!1),E=it(!1),D=it(0),A=it([]);function M(x){A.value=(x==null?void 0:x.scrollSnapList())||[]}function $(x){_.value=(x==null?void 0:x.canScrollNext())||!1,E.value=(x==null?void 0:x.canScrollPrev())||!1,D.value=(x==null?void 0:x.selectedScrollSnap())||0,i("select",D.value)}function K(x){return typeof x=="object"&&x!==null}return $t(()=>{m.value&&(m.value.on("init",M),m.value.on("init",$),m.value.on("reInit",M),m.value.on("reInit",$),m.value.on("select",$))}),me(()=>{m.value&&(m.value.off("init",M),m.value.off("init",$),m.value.off("reInit",M),m.value.off("reInit",$),m.value.off("select",$))}),n({emblaRef:p,emblaApi:m}),(x,T)=>{var P;return F(),ue(yt(de),{as:t.as,role:"region","aria-roledescription":"carousel","data-orientation":t.orientation,tabindex:"0","data-slot":"root",class:ct(v.value.root({class:[(P=e.ui)==null?void 0:P.root,e.class]})),onKeydown:w},{default:et(()=>{var G,J,at,Q,nt,ot,X;return[k("div",{ref_key:"emblaRef",ref:p,"data-slot":"viewport",class:ct(v.value.viewport({class:(G=e.ui)==null?void 0:G.viewport}))},[k("div",{"data-slot":"container",class:ct(v.value.container({class:(J=e.ui)==null?void 0:J.container}))},[(F(!0),N(At,null,Ot(t.items,(Y,H)=>{var z,V;return F(),N("div",Mt({key:H},{ref_for:!0},t.dots?{role:"tabpanel"}:{role:"group","aria-roledescription":"slide"},{"data-slot":"item",class:v.value.item({class:[(z=e.ui)==null?void 0:z.item,K(Y)&&((V=Y.ui)==null?void 0:V.item),K(Y)&&Y.class]})}),[fe(x.$slots,"default",{item:Y,index:H})],16)}),128))],2)],2),t.arrows||t.dots?(F(),N("div",{key:0,"data-slot":"controls",class:ct(v.value.controls({class:(at=e.ui)==null?void 0:at.controls}))},[t.arrows?(F(),N("div",{key:0,"data-slot":"arrows",class:ct(v.value.arrows({class:(Q=e.ui)==null?void 0:Q.arrows}))},[R(zt,Mt({disabled:!E.value,icon:c.value,color:"neutral",variant:"outline","aria-label":yt(o)("carousel.prev")},typeof t.prev=="object"?t.prev:void 0,{"data-slot":"prev",class:v.value.prev({class:(nt=e.ui)==null?void 0:nt.prev}),onClick:I}),null,16,["disabled","icon","aria-label","class"]),R(zt,Mt({disabled:!_.value,icon:b.value,color:"neutral",variant:"outline","aria-label":yt(o)("carousel.next")},typeof t.next=="object"?t.next:void 0,{"data-slot":"next",class:v.value.next({class:(ot=e.ui)==null?void 0:ot.next}),onClick:O}),null,16,["disabled","icon","aria-label","class"])],2)):ft("",!0),t.dots?(F(),N("div",{key:1,role:"tablist","aria-label":yt(o)("carousel.dots"),"data-slot":"dots",class:ct(v.value.dots({class:(X=e.ui)==null?void 0:X.dots}))},[(F(!0),N(At,null,Ot(A.value,(Y,H)=>{var z;return F(),N("button",{key:H,type:"button",role:"tab","aria-label":yt(o)("carousel.goto",{slide:H+1}),"aria-selected":D.value===H,"data-slot":"dot",class:ct(v.value.dot({class:(z=e.ui)==null?void 0:z.dot,active:D.value===H})),"data-state":D.value===H?"active":void 0,onClick:V=>L(H)},null,10,kn)}),128))],10,In)):ft("",!0)],2)):ft("",!0)]}),_:3},8,["as","data-orientation","class"])}}},En={class:"space-y-6"},Tn={class:"flex items-center justify-between"},Pn={class:"text-2xl md:text-3xl font-bold"},An={key:0},On={class:"flex items-center justify-between mb-4"},Dn={class:"relative group/carousel"},qn=["onClick"],Cn={class:"relative aspect-square rounded-lg overflow-hidden bg-muted mb-2"},Bn=["src","alt"],Fn={key:1,class:"w-full h-full flex items-center justify-center"},jn={class:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"},Nn={class:"font-medium truncate text-sm"},Mn={class:"text-xs text-muted truncate"},zn={key:1},Vn={class:"flex items-center justify-between mb-4"},Rn={class:"relative group/carousel"},$n={class:"relative aspect-square rounded-lg overflow-hidden bg-muted mb-2"},Gn=["src","alt"],Hn={key:1,class:"w-full h-full flex items-center justify-center bg-linear-to-br from-primary/20 to-primary/5"},Un={class:"font-medium truncate text-sm"},Kn={class:"text-xs text-muted truncate"},Qn={key:2},Jn={class:"flex items-center justify-between mb-4"},Xn={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"},Yn=["href"],Zn={class:"flex items-center gap-3"},Wn={class:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center shrink-0"},to={class:"min-w-0 flex-1"},eo={class:"font-medium truncate text-sm"},no={class:"text-xs text-muted truncate"},oo={key:3,class:"py-12"},so={key:4,class:"space-y-6"},ro={class:"flex gap-4 overflow-hidden"},mo=Oe({__name:"index",setup(t){const n=Ne(),r=Me(),e=it(!0),i=it([]),s=it([]),o=it([]),l=ut(()=>{const d=new Date().getHours();return d<6?"夜深了":d<12?"早上好":d<14?"中午好":d<18?"下午好":"晚上好"}),a=d=>{n.playSong(d)},c=d=>`${r.baseURL}/api/v1/plugin${d}`,b=async()=>{e.value=!0;try{const[d,u,v]=await Promise.all([Be({limit:6,offset:0}),Fe({limit:10}),je()]),f=d.data;i.value=f.songs||f.data||[];const g=u.data;s.value=g.playlists||g.data||[];const y=v.data,p=y.plugins||y.data||[];o.value=p.filter(m=>m.entry_path&&m.status==="active")}catch(d){console.error("加载数据失败:",d)}finally{e.value=!1}};return $t(()=>{b()}),(d,u)=>{const v=zt,f=De,g=Ln,y=qe("router-link"),p=Ce,m=Ve;return F(),N("div",En,[k("div",Tn,[k("div",null,[k("h1",Pn,mt(l.value),1),u[0]||(u[0]=k("p",{class:"text-sm text-muted mt-1"},"发现你的音乐",-1))])]),i.value.length>0?(F(),N("section",An,[k("div",On,[u[2]||(u[2]=k("h2",{class:"text-lg font-semibold"},"最近播放",-1)),R(v,{variant:"ghost",color:"neutral",size:"sm","trailing-icon":"i-lucide-chevron-right",to:"/library"},{default:et(()=>[...u[1]||(u[1]=[Et(" 查看全部 ",-1)])]),_:1})]),k("div",Dn,[u[3]||(u[3]=k("div",{class:"absolute right-0 top-0 bottom-0 w-16 bg-linear-to-l from-background to-transparent pointer-events-none z-10"},null,-1)),R(g,{items:i.value,"wheel-gestures":"",ui:{container:"gap-4",item:"basis-40"}},{default:et(({item:h})=>[k("div",{class:"group cursor-pointer w-40 shrink-0",onClick:I=>a(h)},[k("div",Cn,[h.cover_url?(F(),N("img",{key:0,src:h.cover_url,alt:h.title,class:"w-full h-full object-cover transition-transform group-hover:scale-105"},null,8,Bn)):(F(),N("div",Fn,[R(f,{name:"i-lucide-music",class:"w-12 h-12 text-muted"})])),k("div",jn,[R(v,{icon:"i-lucide-play",color:"primary",size:"lg",class:"rounded-full"})])]),k("h3",Nn,mt(h.title),1),k("p",Mn,mt(h.artist||"未知艺术家"),1)],8,qn)]),_:1},8,["items"])])])):ft("",!0),s.value.length>0?(F(),N("section",zn,[k("div",Vn,[u[5]||(u[5]=k("h2",{class:"text-lg font-semibold"},"我的歌单",-1)),R(v,{variant:"ghost",color:"neutral",size:"sm","trailing-icon":"i-lucide-chevron-right",to:"/playlists"},{default:et(()=>[...u[4]||(u[4]=[Et(" 查看全部 ",-1)])]),_:1})]),k("div",Rn,[u[6]||(u[6]=k("div",{class:"absolute right-0 top-0 bottom-0 w-16 bg-linear-to-l from-background to-transparent pointer-events-none z-10"},null,-1)),R(g,{items:s.value,"wheel-gestures":"",ui:{container:"gap-4",item:"basis-40"}},{default:et(({item:h})=>[R(y,{to:`/playlists/${h.id}`,class:"group block w-40 shrink-0"},{default:et(()=>[k("div",$n,[h.cover_url?(F(),N("img",{key:0,src:h.cover_url,alt:h.name,class:"w-full h-full object-cover transition-transform group-hover:scale-105"},null,8,Gn)):(F(),N("div",Hn,[R(f,{name:"i-lucide-list-music",class:"w-12 h-12 text-primary/50"})]))]),k("h3",Un,mt(h.name),1),k("p",Kn,mt(h.description||"暂无描述"),1)]),_:2},1032,["to"])]),_:1},8,["items"])])])):ft("",!0),o.value.length>0?(F(),N("section",Qn,[k("div",Jn,[u[8]||(u[8]=k("h2",{class:"text-lg font-semibold"},"插件入口",-1)),R(v,{variant:"ghost",color:"neutral",size:"sm","trailing-icon":"i-lucide-chevron-right",to:"/settings"},{default:et(()=>[...u[7]||(u[7]=[Et(" 管理插件 ",-1)])]),_:1})]),k("div",Xn,[(F(!0),N(At,null,Ot(o.value,h=>(F(),N("a",{key:h.id,href:c(h.entry_path),target:"_blank",rel:"noopener noreferrer",class:"group p-4 rounded-lg border border-default hover:border-primary hover:bg-primary/5 transition-all"},[k("div",Zn,[k("div",Wn,[R(f,{name:"i-lucide-puzzle",class:"w-5 h-5 text-primary"})]),k("div",to,[k("h3",eo,mt(h.name),1),k("p",no,mt(h.description||"暂无描述"),1)]),R(f,{name:"i-lucide-arrow-up-right",class:"w-4 h-4 text-muted group-hover:text-primary transition-colors shrink-0"})])],8,Yn))),128))])])):ft("",!0),!e.value&&i.value.length===0&&s.value.length===0?(F(),N("div",oo,[R(p,{icon:"i-lucide-music-2",title:"还没有音乐",description:"去歌曲库添加一些音乐吧"},{actions:et(()=>[R(v,{to:"/library",color:"primary"},{default:et(()=>[...u[9]||(u[9]=[Et(" 浏览歌曲库 ",-1)])]),_:1})]),_:1})])):ft("",!0),e.value?(F(),N("div",so,[k("div",null,[R(m,{class:"h-8 w-32 mb-4"}),k("div",ro,[(F(),N(At,null,Ot(6,h=>k("div",{key:h,class:"w-35 md:w-40 shrink-0"},[R(m,{class:"aspect-square rounded-lg mb-2"}),R(m,{class:"h-4 w-3/4 mb-1"}),R(m,{class:"h-3 w-1/2"})])),64))])])])):ft("",!0)])}}});export{mo as default};
